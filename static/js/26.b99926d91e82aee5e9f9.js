webpackJsonp([26],{"8eCr":function(a,t,e){"use strict";var i=e("mvHQ"),l=e.n(i),s={props:{mallData:Array},data:function(){return{seraching:!1,pickerOptions1:{disabledDate:function(a){return a.getTime()>Date.now()}},weekPickerOpt:{firstDayOfWeek:1},tabItem:[],panelObj:{mallPanel:!1,floorPanel:!1,formatPanel:!1,ioPanel:!1,shopPanel:!1},analyasisTime:[{label:"日",value:"day",is_active:"time-btn"},{label:"周",value:"week",is_active:"time-btn"},{label:"月",value:"month",is_active:"time-btn"},{label:"年",value:"year",is_active:"time-btn"}],reportTime:{isDay:!1,isWeek:!1,isMonth:!1,isYear:!1},dayTime:"",weekTime:"",monthTime:"",yearTime:"",customTime:"",mallVal:"",floorVal:"",formatVal:"",ioVal:"",zoneVal:"",asisLevel:"",kpiVal:"TRAFFIC",tempVal:"TAB_RELATIVETEMPERATURE",kpiOpt:[],floorData:[],zoneData:[],formatData:[],ioData:[],paramId:"",gateVal:"",floorItem:"",zoneItem:"",floorList:[],zoneList:[],gateData:[],shopFloorData:[],shopFloorId:"",shopFloorVal:"",gateLevel:"all",gateLevelList:[{label:"全部",value:"all"},{label:"广场",value:"mall"},{label:"楼层",value:"floor"},{label:"店铺",value:"zone"}]}},created:function(){if(this.tabItem=[],"mall"===this.$Project){var a={floor:"floor"};for(var t in a)this.tabItem.push({label:t,value:a[t],className:"analysis-item"})}else this.tabItem=[{label:"mall",value:"mall",className:"analysis-item"},{label:"inOut",value:"io",className:"analysis-item"}]},methods:{i18nFormatter:function(a){var t="asisTab."+a;return this.$t(t)},initAsis:function(a){if(this.customTime=[this.dayReduce(new Date,30),dateUnit.dateFormat(new Date,"yyyy-MM-dd")],this.paramId=a,this.mallVal=a,this.tabClickHandle(0),"floor"===this.asisLevel)this.timeHandle(0),this.getFloorOpt(a,!0);else{this.getFloorOpt(a),this.timeHandle(0);var t={asis_level:this.asisLevel,asis_date:"day",asis_time:this.customTime,asis_org:this.paramId,asis_kpi:this.tempVal};this.$emit("initData",t)}},tempChange:function(a){"TAB_RELATIVETEMPERATURE"===a?this.customTime=[this.dayReduce(new Date,30),dateUnit.dateFormat(new Date,"yyyy-MM-dd")]:this.dayTime=dateUnit.dateFormat(new Date,"yyyy-MM-dd")},tabClickHandle:function(a){if("analysis-item"===this.tabItem[a].className){this.tabItem.forEach(function(a){a.className="analysis-item"}),this.tabItem[a].className="analysis-item tabs-active";for(var t in this.panelObj)this.panelObj[t]=!1;switch(this.tempVal="",this.kpiVal="",this.asisLevel="",this.tabItem[a].value){case"mall":this.panelObj.mallPanel=!0,this.asisLevel="mall",this.kpiOpt=[{label:"客流量",value:"TRAFFIC"},{label:"销售额",value:"SALES"},{label:"游逛深度",value:"DEPTH"},{label:"客单价",value:"PREPRICE"},{label:"坪效",value:"PERAREAVALUE"},{label:"滞留时间",value:"DURATIONTIME"}],this.kpiVal="TRAFFIC",this.tempVal="TAB_RELATIVETEMPERATURE";break;case"floor":this.panelObj.floorPanel=!0,this.asisLevel="floor",this.kpiOpt=[{label:"客流量",value:"TRAFFIC"},{label:"销售额",value:"SALES"}],this.kpiVal="TRAFFIC",this.tempVal="TAB_RELATIVETEMPERATURE";break;case"format":this.panelObj.formatPanel=!0,this.asisLevel="format",this.kpiOpt=[{label:"客流量",value:"TRAFFIC"},{label:"销售额",value:"SALES"}],this.kpiVal="TRAFFIC",this.tempVal="TAB_RELATIVETEMPERATURE";break;case"io":this.panelObj.ioPanel=!0,this.asisLevel="gate",this.kpiOpt=[{label:"客流量",value:"TRAFFIC"}],this.kpiVal="TRAFFIC",this.tempVal="TAB_RELATIVETEMPERATURE";break;case"shop":this.panelObj.shopPanel=!0,this.asisLevel="zone",this.kpiOpt=[{label:"客流量",value:"TRAFFIC"},{label:"销售额",value:"SALES"},{label:"进店率",value:"ENTERINGRATE"},{label:"客单价",value:"PREPRICE"},{label:"坪效",value:"PERAREAVALUE"},{label:"成交量",value:"ORDER"},{label:"提袋率",value:"HANDBAGRATE"},{label:"滞留时间",value:"DURATIONTIME"}],this.kpiVal="TRAFFIC",this.tempVal="TAB_RELATIVETEMPERATURE";break;default:this.kpiOpt=[],this.kpiVal="",this.tempVal=""}}},gateLevelChange:function(){"all"===this.gateLevel?this.getAllGates():"mall"===this.gateLevel?this.getMallGates():"floor"===this.gateLevel?this.getFloorList():this.getZoneList()},getAllGates:function(){var a=this;this.gateData=[],this.gateVal="",this.axios.get("/gates",{params:{accountId:this.$cookie.get("accountId"),mallId:this.mallVal,_t:Date.parse(new Date)/1e3}}).then(function(t){if(t.data.data.length>0){var e=t.data.data;e.forEach(function(a){window.sessionStorage.setItem("gate-"+a.id,a.name)}),a.gateVal=e[0].id,a.gateData=e}else a.gateVal="",a.gateData=[]})},getMallGates:function(){var a=this;this.gateData=[],this.gateVal="",this.axios.get("/gates",{params:{mallId:this.mallVal,isMallGate:1,_t:Date.parse(new Date)/1e3}}).then(function(t){if(t.data.data.length>0){var e=t.data.data;a.gateVal=e[0].id,a.gateData=e}})},getFloorList:function(){var a=this;this.floorItem="",this.floorList=[],this.gateData=[],this.gateVal="",this.axios.get("/floors",{params:{mallId:this.mallVal,_t:Date.parse(new Date)/1e3}}).then(function(t){if(t.data.data.length>0){var e=t.data.data;a.floorItem=e[0].id,a.getFloorGate(a.floorItem),a.floorList=e}})},getZoneList:function(){var a=this;this.zoneItem="",this.zoneList=[],this.gateData=[],this.gateVal="",this.axios.get("/zones",{params:{mallId:this.mallVal,sortName:'"floor".name, "zone".name',_t:Date.parse(new Date)/1e3}}).then(function(t){if(t.data.data.length>0){var e=t.data.data;a.zoneItem=e[0].id,a.getZoneGate(a.zoneItem),a.zoneList=e}})},levelFloorChange:function(){this.floorItem?this.getFloorGate(this.floorItem):(this.gateVal="",this.gateData=[])},getFloorGate:function(a){var t=this;this.gateData=[],this.gateVal="",this.axios.get("/floorGates",{params:{FloorId_arr:a,_t:Date.parse(new Date)/1e3}}).then(function(a){if(a.data.data.length>0){var e=a.data.data;e.forEach(function(a){a.id=a.gateId,a.name=window.sessionStorage.getItem("gate-"+a.gateId)}),t.gateVal=e[0].id,t.gateData=e}})},levelZoneChange:function(){this.zoneItem?this.getZoneGate(this.zoneItem):(this.gateVal="",this.gateData=[])},getZoneGate:function(a){var t=this;this.gateData=[],this.gateVal="",this.axios.get("/zoneGates",{params:{ZoneId_arr:a,_t:Date.parse(new Date)/1e3}}).then(function(a){if(a.data.data.length>0){var e=a.data.data;e.forEach(function(a){a.id=a.gateId,a.name=window.sessionStorage.getItem("gate-"+a.gateId)}),t.gateVal=e[0].id,t.gateData=e}})},getFloorOpt:function(a,t){var e=this;this.floorData=[],this.shopFloorData=[],this.floorVal="",this.shopFloorId="",this.shopFloorVal="",this.axios.get("/floors",{params:{mallId:a,accountId:this.$cookie.get("accountId"),_t:Date.parse(new Date)/1e3}}).then(function(i){if(i.data.data.length>0){var s=JSON.parse(l()(i.data.data));if(s.unshift({name:e.$t("asisTab.all"),id:""}),e.floorData=i.data.data,e.floorVal=i.data.data[0].id,e.shopFloorData=s,e.shopFloorId=s[0].id,e.shopFloorVal=s[0].id,e.getIoOpt(a,e.floorVal),e.getZoneOpt(a,e.shopFloorVal),t){var o={asis_level:e.asisLevel,asis_date:"day",asis_time:e.customTime,asis_org:e.floorVal,asis_kpi:e.tempVal};e.$emit("initData",o)}}else e.getZoneOpt(a)}).catch(function(a){})},getZoneOpt:function(a,t){var e=this;this.zoneData=[],this.zoneVal="",this.axios.get("/zones",{params:{mallId:a,floorId:t,accountId:this.$cookie.get("accountId"),sortName:'"floor".name, "zone".name',_t:Date.parse(new Date)/1e3}}).then(function(a){a.data.data.length>0&&(e.zoneData=a.data.data,e.zoneVal=a.data.data[0].id)}).catch(function(a){})},getIoOpt:function(a,t){var e=this;this.ioData=[],this.ioVal="",this.axios.get("/gates",{params:{mallId:a,floorId:t,accountId:this.$cookie.get("accountId"),_t:Date.parse(new Date)/1e3}}).then(function(a){a.data.data.length>0&&(e.ioData=a.data.data,e.ioVal=a.data.data[0].id)}).catch(function(a){})},getFormatOpt:function(){var a=this;this.formatData=[],this.formatVal="",this.axios.get("/formats",{params:{_t:Date.parse(new Date)/1e3}}).then(function(t){t.data.data.length>0&&(a.formatData=t.data.data,a.formatVal=t.data.data[0].id)}).catch(function(a){})},timeHandle:function(a){if("time-btn"===this.analyasisTime[a].is_active){this.analyasisTime.forEach(function(a){a.is_active="time-btn"});for(var t in this.reportTime)this.reportTime[t]=!1;this.analyasisTime[a].is_active="time-btn active-time";switch(this.analyasisTime[a].value){case"day":this.reportTime.isDay=!0;break;case"week":this.reportTime.isWeek=!0;break;case"month":this.reportTime.isMonth=!0;break;case"year":this.reportTime.isYear=!0}}},mallChange:function(){this.getFloorOpt(this.mallVal)},gateMallChange:function(){this.gateLevel="all",this.gateLevelChange()},floorChange:function(){this.getZoneOpt(this.mallVal,this.shopFloorVal)},confirmCondition:function(){var a={asis_level:"",asis_date:"",asis_time:"",asis_org:"",asis_kpi:"",asis_format:""};switch(this.asisLevel){case"mall":this.paramId=this.mallVal,a.asis_tit=this.getItemName(this.mallData,this.paramId);break;case"floor":this.paramId=this.floorVal,a.asis_tit=this.getItemName(this.mallData,this.mallVal)+"-"+this.getItemName(this.floorData,this.paramId);break;case"format":a.asis_format=this.formatVal,this.paramId=this.mallVal;break;case"gate":this.paramId=this.gateVal,a.asis_tit=this.getItemName(this.mallData,this.mallVal)+"-"+this.getItemName(this.gateData,this.paramId);break;case"zone":this.paramId=this.zoneVal,a.asis_tit=this.getItemName(this.mallData,this.mallVal)+"-"+this.getItemName(this.zoneData,this.paramId)}this.paramId&&(a.asis_level=this.asisLevel,a.asis_date="day",a.asis_time="TAB_RELATIVETEMPERATURE"==this.tempVal?this.customTime:this.dayTime,a.asis_org=this.paramId,a.asis_kpi=this.tempVal,a.asis_mallId=this.mallVal,this.$emit("reportTime",a))},getItemName:function(a,t){var e="",i=t.toString().split(",")[0];return a.forEach(function(a){a.id==i&&(e=a.name)}),e},resetRefresh:function(){this.tabClickHandle(0),this.timeHandle(0),this.mallVal=this.mallData[0].id,this.dayTime=dateUnit.dateFormat(new Date,"yyyy-MM-dd"),this.tempVal="TAB_RELATIVETEMPERATURE"}},mounted:function(){this.dayTime=this.dayTime?this.dayTime:dateUnit.dateFormat(new Date,"yyyy-MM-dd")}},o={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"analysis-option-wrapper"},[e("div",{staticClass:"analysis-level-wrapper"},[e("div",{staticClass:"analysis-level-left"},[e("i",{staticClass:"el-icon-search"}),a._v(" "),e("span",{staticClass:"analysis-level-text"},[a._v(a._s(a.$t("asisTab.level")))])]),a._v(" "),e("div",{staticClass:"analysis-level-right"},[e("ul",{staticClass:"analysis-type-box"},a._l(a.tabItem,function(t,i){return e("li",{key:t.value,class:t.className,on:{click:function(t){a.tabClickHandle(i)}}},[e("span",{staticClass:"analysis-item-title"},[a._v(a._s(a.i18nFormatter(t.label)))])])}))])]),a._v(" "),e("div",{staticClass:"panels-content"},[e("div",{staticClass:"panels-main-top"},[a.panelObj.mallPanel?e("ul",{staticClass:"condition-box"},[e("li",{staticClass:"condition-item"},[e("span",{staticClass:"condition-item-text"},[a._v(a._s(a.$t("asisTab.mallT")))]),a._v(" "),e("div",{staticClass:"condition-item-option",on:{change:a.mallChange}},[e("el-select",{staticClass:"mall-sel-box",attrs:{filterable:"",placeholder:"请选择广场"},model:{value:a.mallVal,callback:function(t){a.mallVal=t},expression:"mallVal"}},a._l(a.mallData,function(a){return e("el-option",{key:a.id,attrs:{label:a.name,value:a.id}})}))],1)])]):a._e(),a._v(" "),a.panelObj.floorPanel?e("ul",{staticClass:"condition-box"},[e("li",{staticClass:"condition-item"},[e("span",{staticClass:"condition-item-text"},[a._v(a._s(a.$t("asisTab.mallT")))]),a._v(" "),e("div",{staticClass:"condition-item-option"},[e("el-select",{staticClass:"mall-sel-box",attrs:{filterable:"",placeholder:"请选择广场"},on:{change:a.mallChange},model:{value:a.mallVal,callback:function(t){a.mallVal=t},expression:"mallVal"}},a._l(a.mallData,function(a){return e("el-option",{key:a.id,attrs:{label:a.name,value:a.id}})}))],1)]),a._v(" "),e("li",{staticClass:"condition-item"},[e("span",{staticClass:"condition-item-text"},[a._v(a._s(a.$t("asisTab.floorT")))]),a._v(" "),e("div",{staticClass:"condition-item-option"},[e("el-select",{staticClass:"floor-sel-box",attrs:{filterable:"",placeholder:a.$t("pholder.floorSelect")},model:{value:a.floorVal,callback:function(t){a.floorVal=t},expression:"floorVal"}},a._l(a.floorData,function(a){return e("el-option",{key:a.id,attrs:{label:a.name,value:a.id}})}))],1)])]):a._e(),a._v(" "),a.panelObj.formatPanel?e("ul",{staticClass:"condition-box"},[e("li",{staticClass:"condition-item"},[e("span",{staticClass:"condition-item-text"},[a._v(a._s(a.$t("asisTab.mallT")))]),a._v(" "),e("div",{staticClass:"condition-item-option"},[e("el-select",{staticClass:"mall-sel-box",attrs:{filterable:"",placeholder:"请选择广场"},model:{value:a.mallVal,callback:function(t){a.mallVal=t},expression:"mallVal"}},a._l(a.mallData,function(a){return e("el-option",{key:a.id,attrs:{label:a.name,value:a.id}})}))],1)]),a._v(" "),e("li",{staticClass:"condition-item"},[e("span",{staticClass:"condition-item-text"},[a._v(a._s(a.$t("asisTab.floorT")))]),a._v(" "),e("div",{staticClass:"condition-item-option"},[e("el-select",{staticClass:"floor-sel-box",attrs:{filterable:"",placeholder:a.$t("pholder.floorSelect")},model:{value:a.floorVal,callback:function(t){a.floorVal=t},expression:"floorVal"}},a._l(a.floorData,function(a){return e("el-option",{key:a.id,attrs:{label:a.name,value:a.id}})}))],1)]),a._v(" "),e("li",{staticClass:"condition-item"},[e("span",{staticClass:"condition-item-text"},[a._v("业态 :")]),a._v(" "),e("div",{staticClass:"condition-item-option"},[e("el-select",{staticClass:"format-sel-box",attrs:{filterable:"",placeholder:"业态"},model:{value:a.formatVal,callback:function(t){a.formatVal=t},expression:"formatVal"}},a._l(a.formatData,function(a){return e("el-option",{key:a.id,attrs:{label:a.name,value:a.id}})}))],1)])]):a._e(),a._v(" "),a.panelObj.ioPanel?e("ul",{staticClass:"condition-box"},[e("li",{staticClass:"condition-item"},[e("span",{staticClass:"condition-item-text"},[a._v(a._s(a.$t("asisTab.mallT")))]),a._v(" "),e("div",{staticClass:"condition-item-option"},[e("el-select",{staticClass:"mall-sel-box",attrs:{filterable:"",placeholder:"请选择广场"},on:{change:a.gateMallChange},model:{value:a.mallVal,callback:function(t){a.mallVal=t},expression:"mallVal"}},a._l(a.mallData,function(a){return e("el-option",{key:a.id,attrs:{label:a.name,value:a.id}})}))],1)]),a._v(" "),e("li",{staticClass:"condition-item gate-level-item"},[e("span",{staticClass:"condition-item-text"},[a._v(a._s(a.$t("asisTab.inOutLev")))]),a._v(" "),e("div",{staticClass:"condition-item-option"},[e("el-select",{staticClass:"floor-sel-box",attrs:{placeholder:a.$t("pholder.gateLevel")},on:{change:a.gateLevelChange},model:{value:a.gateLevel,callback:function(t){a.gateLevel=t},expression:"gateLevel"}},a._l(a.gateLevelList,function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),a._v(" "),"floor"===a.gateLevel||"zone"===a.gateLevel?e("span",[a._v("-")]):a._e(),a._v(" "),"floor"===a.gateLevel?e("el-select",{staticClass:"floor-sel-box",attrs:{filterable:"",placeholder:a.$t("pholder.floorSelect")},on:{change:a.levelFloorChange},model:{value:a.floorItem,callback:function(t){a.floorItem=t},expression:"floorItem"}},a._l(a.floorList,function(a){return e("el-option",{key:a.id,attrs:{label:a.name,value:a.id}})})):a._e(),a._v(" "),"zone"===a.gateLevel?e("el-select",{staticClass:"zone-sel-box",attrs:{filterable:"",placeholder:a.$t("pholder.zoneSelect")},on:{change:a.levelZoneChange},model:{value:a.zoneItem,callback:function(t){a.zoneItem=t},expression:"zoneItem"}},a._l(a.zoneList,function(a){return e("el-option",{key:a.id,attrs:{label:a.name,value:a.id}})})):a._e()],1)]),a._v(" "),e("li",{staticClass:"condition-item"},[e("span",{staticClass:"condition-item-text"},[a._v(a._s(a.$t("asisTab.inOutT")))]),a._v(" "),e("div",{staticClass:"condition-item-option",staticStyle:{"margin-left":"0.24rem"}},[e("el-select",{staticClass:"format-sel-box",attrs:{filterable:"",placeholder:a.$t("pholder.gateType")},model:{value:a.gateVal,callback:function(t){a.gateVal=t},expression:"gateVal"}},a._l(a.gateData,function(a){return e("el-option",{key:a.id,attrs:{label:a.name,value:a.id}})}))],1)])]):a._e(),a._v(" "),a.panelObj.shopPanel?e("ul",{staticClass:"condition-box"},[e("li",{staticClass:"condition-item"},[e("span",{staticClass:"condition-item-text"},[a._v(a._s(a.$t("asisTab.mallT")))]),a._v(" "),e("div",{staticClass:"condition-item-option"},[e("el-select",{staticClass:"mall-sel-box",attrs:{filterable:"",placeholder:"请选择广场"},on:{change:a.mallChange},model:{value:a.mallVal,callback:function(t){a.mallVal=t},expression:"mallVal"}},a._l(a.mallData,function(a){return e("el-option",{key:a.id,attrs:{label:a.name,value:a.id}})}))],1)]),a._v(" "),e("li",{staticClass:"condition-item"},[e("span",{staticClass:"condition-item-text"},[a._v(a._s(a.$t("asisTab.floorT")))]),a._v(" "),e("div",{staticClass:"condition-item-option"},[e("el-select",{staticClass:"floor-sel-box",attrs:{filterable:"",placeholder:a.$t("pholder.floorSelect")},on:{change:a.floorChange},model:{value:a.shopFloorVal,callback:function(t){a.shopFloorVal=t},expression:"shopFloorVal"}},a._l(a.shopFloorData,function(a){return e("el-option",{key:a.id,attrs:{label:a.name,value:a.id}})}))],1)]),a._v(" "),e("li",{staticClass:"condition-item"},[e("span",{staticClass:"condition-item-text"},[a._v(a._s(a.$t("asisTab.storeT")))]),a._v(" "),e("div",{staticClass:"condition-item-option  "},[e("el-select",{staticClass:"shop-sel-box",attrs:{filterable:"",placeholder:a.$t("pholder.zoneSelect")},model:{value:a.zoneVal,callback:function(t){a.zoneVal=t},expression:"zoneVal"}},a._l(a.zoneData,function(a){return e("el-option",{key:a.id,attrs:{label:a.name,value:a.id}})}))],1)])]):a._e()]),a._v(" "),e("div",{staticClass:"panels-main-bottom"},[e("ul",{staticClass:"condition-box"},[e("li",{staticClass:"condition-item"},[e("span",{staticClass:"condition-item-text"},[a._v("指标 :")]),a._v(" "),e("div",{staticClass:"condition-item-option"},[e("el-select",{staticClass:"indicator-sel-box",attrs:{placeholder:a.$t("pholder.kpi")},on:{change:a.tempChange},model:{value:a.tempVal,callback:function(t){a.tempVal=t},expression:"tempVal"}},[e("el-option",{attrs:{label:"相对温度",value:"TAB_RELATIVETEMPERATURE"}}),a._v(" "),e("el-option",{attrs:{label:"纵向温度",value:"TAB_PORTRAITTEMPERATURE"}})],1)],1)]),a._v(" "),e("li",{staticClass:"condition-item analysis-date-condition"},[e("span",{staticClass:"condition-item-text"},[a._v(a._s(a.$t("asisTab.date")))]),a._v(" "),e("div",{staticClass:"condition-item-option"},[e("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:"TAB_PORTRAITTEMPERATURE"===a.tempVal,expression:"tempVal === 'TAB_PORTRAITTEMPERATURE'"}],staticClass:"date-input analysis-date-input",attrs:{"value-format":"yyyy-MM-dd",align:"right",type:"date",size:"mini",placeholder:a.$t("pholder.date"),"picker-options":a.pickerOptions1},model:{value:a.dayTime,callback:function(t){a.dayTime=t},expression:"dayTime"}}),a._v(" "),e("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:"TAB_RELATIVETEMPERATURE"===a.tempVal,expression:"tempVal === 'TAB_RELATIVETEMPERATURE'"}],staticClass:"date-input analysis-date-input times-box",attrs:{"value-format":"yyyy-MM-dd",align:"right",type:"daterange",size:"mini","picker-options":a.pickerOptions1,"range-separator":"-","start-placeholder":a.$t("pholder.startDate"),"end-placeholder":a.$t("pholder.endDate")},model:{value:a.customTime,callback:function(t){a.customTime=t},expression:"customTime"}})],1)]),a._v(" "),e("li",{staticClass:"condition-item"},[e("el-button",{staticClass:"primary-btn analysis-collapse-btn",attrs:{type:"primary",size:"samll"},on:{click:a.confirmCondition}},[a._v(a._s(a.$t("button.confirm")))]),a._v(" "),e("el-button",{staticClass:"reset-btn analysis-collapse-btn",attrs:{size:"samll"},on:{click:a.resetRefresh}},[a._v(a._s(a.$t("button.reset")))])],1)])])])])},staticRenderFns:[]},n=e("VU/8")(s,o,!1,function(a){e("YrDe")},"data-v-42bd62ee",null);t.a=n.exports},AEan:function(a,t,e){"use strict";(function(a){var i=e("8eCr");t.a={data:function(){return{moreOptVisible:!1,mallData:[],asisName:"",propParams:{}}},components:{"heatmap-option":i.a},mounted:function(){this.$router.push("/customer/floorheat/floorheatmap"),this.getMall(),this.showCollapse()},methods:{showCollapse:function(){var t=this,e="",i="",l="",s="";e=this.getStyleFn(".el-header","height"),i=this.getStyleFn(".analysis-wrapper .el-header","height"),this.moreOptVisible?(this.moreOptVisible=!1,s=e+i+8+"px",a(".heatmap-main").animate({marginTop:s})):(this.moreOptVisible=!0,setTimeout(function(){l=t.getStyleFn(".analysis-option-wrapper","height"),s=e+i+l+8+"px",a(".heatmap-main").animate({marginTop:s})},100))},getMall:function(){var a=this;this.axios.get("/malls",{params:{accountId:this.$cookie.get("accountId"),status:1,_t:Date.parse(new Date)/1e3}}).then(function(t){var e="",i=null,l=window.sessionStorage.getItem("mallId");l&&Number(l),t.data.data.length>=1&&(t.data.data.forEach(function(t,i){a.mallData.push(t),l&&t.id==l&&(e=t.name)}),a.asisName=e||t.data.data[0].name,i=l?Number(l):t.data.data[0].id,a.$refs.init.initAsis(i))})},initTab:function(a){switch(a.asis_date){case"day":this.$router.push("/customer/floorheat/floorheatmap"),this.propParams={dateType:"/floorheat/floorheatmap",data:a}}},reportHandler:function(a){switch(this.asisName=a.asis_tit,a.asis_date){case"day":this.$router.push("/customer/floorheat/floorheatmap"),this.propParams={dateType:"/floorheat/floorheatmap",data:a}}}}}}).call(t,e("7t+N"))},MMCV:function(a,t){},YrDe:function(a,t){},nZmX:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e("AEan"),l={render:function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"heatmap-analysis"},[t("el-header",{attrs:{height:"70px"}},[t("span",{staticClass:"asis-title"},[this._v(this._s(this.asisName)+" "+this._s(this.$t("asis.FloorHeatMap")))]),this._v(" "),t("span",{staticClass:"more-option-wrapper",on:{click:this.showCollapse}},[t("span",{staticClass:"more-option-text"},[this._v(this._s(this.$t("asis.moreOp")))]),this._v(" "),t("i",{class:this.moreOptVisible?"el-icon-arrow-down more-option-arrow":"el-icon-arrow-down more-option-arrow more-option-up"})])]),this._v(" "),t("heatmap-option",{directives:[{name:"show",rawName:"v-show",value:this.moreOptVisible,expression:"moreOptVisible"}],ref:"init",attrs:{mallData:this.mallData},on:{reportTime:this.reportHandler,initData:this.initTab}}),this._v(" "),t("div",{staticClass:"element-main heatmap-main"},[t("router-view",{attrs:{propparam:this.propParams}})],1)],1)},staticRenderFns:[]},s=function(a){e("MMCV")},o=e("VU/8")(i.a,l,!1,s,"data-v-696af55a",null);t.default=o.exports}});