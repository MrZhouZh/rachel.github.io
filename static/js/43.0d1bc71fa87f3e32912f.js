webpackJsonp([43],{"/zD9":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=e("4J75"),i={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"act-analysis"},[a("el-header",{attrs:{height:"70px"}},[a("span",{staticClass:"asis-title"},[this._v(this._s(this.asisName)+" "+this._s(this.$t("asis.SameHolidayAct")))]),this._v(" "),a("span",{staticClass:"more-option-wrapper",on:{click:this.showCollapse}},[a("span",{staticClass:"more-option-text"},[this._v(this._s(this.$t("asis.moreOp")))]),this._v(" "),a("i",{class:this.moreOptVisible?"el-icon-arrow-down more-option-arrow":"el-icon-arrow-down more-option-arrow more-option-up"})])]),this._v(" "),a("act-option",{directives:[{name:"show",rawName:"v-show",value:this.moreOptVisible,expression:"moreOptVisible"}],ref:"init",attrs:{mallData:this.mallData},on:{reportTime:this.reportHandler,initData:this.initTab}}),this._v(" "),a("div",{staticClass:"element-main act-main"},[a("router-view",{attrs:{propparam:this.propParams}})],1)],1)},staticRenderFns:[]},s=function(t){e("t6Ye")},o=e("VU/8")(l.a,i,!1,s,"data-v-a2dcc2b2",null);a.default=o.exports},"4J75":function(t,a,e){"use strict";(function(t){var l=e("xhVu");a.a={data:function(){return{moreOptVisible:!1,mallData:[],asisName:"",asisLevel:"",propParams:{}}},components:{"act-option":l.a},created:function(){var a=this;window.addEventListener("resize",function(){try{var e={chart1:t("#recentComChart")[0],chart2:t("#actEffChart")[0],chart3:t("#timeActChart")[0]};for(var l in e)if(e.hasOwnProperty(l)&&void 0!=e[l]){e[l]=a.$echarts.init(e[l]);e[l].resize()}}catch(t){}})},mounted:function(){this.getMallOpt(),this.showCollapse()},methods:{showCollapse:function(){var a=this,e="",l="",i="",s="";e=this.getStyleFn(".el-header","height"),l=this.getStyleFn(".analysis-wrapper .el-header","height"),this.moreOptVisible?(this.moreOptVisible=!1,s=e+l+8+"px",t(".act-main").animate({marginTop:s})):(this.moreOptVisible=!0,setTimeout(function(){i=a.getStyleFn(".analysis-option-wrapper","height"),s=e+l+i+8+"px",t(".act-main").animate({marginTop:s})},100))},getMallOpt:function(){var t=this;this.axios.get("/malls",{params:{accountId:this.$cookie.get("accountId"),status:1,_t:Date.parse(new Date)/1e3}}).then(function(a){var e="",l=null,i=window.sessionStorage.getItem("mallId");i&&Number(i),a.data.data.length>=1&&(a.data.data.forEach(function(a,l){t.mallData.push(a),i&&a.id==i&&(e=a.name)}),t.asisName=e||a.data.data[0].name,l=i?Number(i):a.data.data[0].id,t.$refs.init.initAsis(l))})},initTab:function(t){switch(t.asis_date){case"actday":this.$router.push("/analysis/actAsis/actday"),this.propParams={dateType:"/actAsis/actday",data:t}}},reportHandler:function(t){switch(this.asisName=t.asis_tit,t.asis_date){case"actday":this.$router.push("/analysis/actAsis/actday"),this.propParams={dateType:"/actAsis/actday",data:t}}}}}}).call(a,e("7t+N"))},npf8:function(t,a){},t6Ye:function(t,a){},xhVu:function(t,a,e){"use strict";var l=e("mvHQ"),i=e.n(l),s=e("bOdI"),o=e.n(s),n={props:{mallData:Array},data:function(){var t;return t={checkedMall:[],pickerOptions1:{disabledDate:function(t){return t.getTime()>Date.now()}},weekPickerOpt:{firstDayOfWeek:1},tabItem:[],panelObj:{mallPanel:!1,floorPanel:!1,formatPanel:!1,ioPanel:!1,shopPanel:!1},analyasisTime:[{label:"日",value:"day",is_active:"time-btn"},{label:"周",value:"week",is_active:"time-btn"},{label:"月",value:"month",is_active:"time-btn"},{label:"年",value:"year",is_active:"time-btn"},{label:"自定义",value:"custom",is_active:"time-btn"}],reportTime:{isDay:!1,isWeek:!1,isMonth:!1,isYear:!1,isCustom:!1},holidayEvt:"",yearTime:"",customTime:"",mallVal:"",floorVal:"",formatVal:"",ioVal:"",zoneVal:"",asisLevel:""},o()(t,"asisLevel",""),o()(t,"kpiVal","TRAFFIC"),o()(t,"kpiOpt",[]),o()(t,"floorData",[]),o()(t,"zoneData",[]),o()(t,"formatData",[]),o()(t,"ioData",[]),o()(t,"paramId",""),o()(t,"mallId",""),o()(t,"floorId",""),o()(t,"ioId",""),o()(t,"zoneId",""),o()(t,"formatId",""),o()(t,"shopFloorData",[]),o()(t,"shopFloorId",""),o()(t,"shopFloorVal",""),o()(t,"mutiMallVal",[]),o()(t,"mutiFloorVal",[]),o()(t,"mutiFloorData",[]),o()(t,"mutiGateVal",[]),o()(t,"mutiZoneVal",[]),o()(t,"mutiGateVal",""),o()(t,"floorItem",""),o()(t,"zoneItem",""),o()(t,"floorList",[]),o()(t,"zoneList",[]),o()(t,"holidayOpt",[]),o()(t,"holidayVal",""),o()(t,"gateData",[]),o()(t,"gateLevel","all"),o()(t,"gateLevelList",[{label:"all",value:"all"},{label:"mall",value:"mall"},{label:"floor",value:"floor"},{label:"store",value:"zone"}]),o()(t,"isMallSelAll",!1),o()(t,"isFloorSelAll",!1),o()(t,"isGateSelAll",!1),o()(t,"isZoneSelAll",!1),t},created:function(){if(this.yearTime=new Date,this.tabItem=[],"mall"===this.$Project){var t={mall:"mall",inOut:"io",floor:"floor",store:"shop"};for(var a in t)this.tabItem.push({label:a,value:t[a],className:"analysis-item"})}else this.tabItem=[{label:"mall",value:"mall",className:"analysis-item"}];this.tabClickHandle(0)},methods:{i18nFormatter:function(t){var a="asisTab."+t;return this.$t(a)},kpiI18n:function(t){var a="format."+t;return this.$t(a)},getTime1:function(){},removeTag:function(){},getHoliday:function(t,a,e,l){var i=this;this.paramId=a,this.mallId=a,this.mallVal=a,this.mutiMallVal=[a],this.isMallSelAll=this.mutiMallVal.length==this.mallData.length,this.getFloorOpt(a),this.gateLevelChange(),this.tabClickHandle(0);var s={},o="";o="mall"===e?"mallId":"floor"===e?"floorId":"gate"===e?"gateId":"shop"===e?"zoneId":"formatId",t=t?dateUnit.dateFormat(t,"yyyy-MM-dd"):dateUnit.dateFormat(new Date,"yyyy-MM-dd"),s.year=t,s[o]=a,s._t=Date.parse(new Date)/1e3,this.holidayOpt=[],this.holidayVal="",this.holidayEvt="",this.axios.get("/events/getEvent",{params:s}).then(function(a){var e=a.data;e.data.length>0&&(i.holidayVal=e.data[0].id,i.holidayOpt=e.data,i.holidayEvt=e.data[0].id),setTimeout(function(){var a={asis_level:i.asisLevel,asis_date:"actday",asis_act:i.holidayEvt,asis_time:t,asis_org:i.paramId,asis_kpi:i.kpiVal,asis_tit:i.getItemName(i.mallData,i.paramId.toString())};i.$emit("initData",a)},200)}).catch(function(t){})},getEvents:function(){var t=this,a={},e=this.yearTime?dateUnit.dateFormat(this.yearTime,"yyyy-MM-dd"):dateUnit.dateFormat(new Date,"yyyy-MM-dd");a.year=e,a.mallId=this.mallId,a._t=Date.parse(new Date)/1e3,this.holidayOpt=[],this.holidayVal="",this.holidayEvt="",this.axios.get("/events/getEvent",{params:a}).then(function(a){var e=a.data;e.data.length>0&&(t.holidayVal=e.data[0].id,t.holidayOpt=e.data,t.holidayEvt=e.data[0].id)})},initAsis:function(t){this.getHoliday(this.yearTime,t,"mall")},tabClickHandle:function(t){if("analysis-item"===this.tabItem[t].className){this.tabItem.forEach(function(t){t.className="analysis-item"}),this.tabItem[t].className="analysis-item tabs-active";for(var a in this.panelObj)this.panelObj[a]=!1;switch(this.kpiVal="",this.asisLevel="",this.tabItem[t].value){case"mall":this.mutiMallVal=[this.mallId],this.isMallSelAll=this.mutiMallVal.length==this.mallData.length,this.panelObj.mallPanel=!0,this.asisLevel="mall",this.kpiOpt=[{label:"客流量",value:"TRAFFIC"},{label:"销售额",value:"SALES"},{label:"游逛深度",value:"DEPTH"},{label:"客单价",value:"PREPRICE"},{label:"坪效",value:"PERAREAVALUE"},{label:"滞留时间",value:"DURATIONTIME"}],this.kpiVal="TRAFFIC";break;case"floor":this.mallVal=this.mallId,this.mutiFloorVal=this.floorId?[this.floorId]:[],this.panelObj.floorPanel=!0,this.asisLevel="floor",this.kpiOpt=[{label:"客流量",value:"TRAFFIC"},{label:"销售额",value:"SALES"}],this.kpiVal="TRAFFIC";break;case"format":this.mallVal=this.mallId,this.panelObj.formatPanel=!0,this.asisLevel="format",this.kpiOpt=[{label:"客流量",value:"TRAFFIC"},{label:"销售额",value:"SALES"}],this.kpiVal="TRAFFIC";break;case"io":this.mallVal=this.mallId,this.floorVal=this.floorId,this.mutiGateVal=this.ioId?[this.ioId]:"",this.panelObj.ioPanel=!0,this.asisLevel="gate",this.kpiOpt=[{label:"客流量",value:"TRAFFIC"}],this.kpiVal="TRAFFIC";break;case"shop":this.mallVal=this.mallId,this.floorVal=this.floorId,this.ioVal=this.ioId,this.mutiZoneVal=this.zoneId?[this.zoneId]:[],this.panelObj.shopPanel=!0,this.asisLevel="zone",this.kpiOpt=[{label:"客流量",value:"TRAFFIC"},{label:"销售额",value:"SALES"},{label:"进店率",value:"ENTERINGRATE"},{label:"客单价",value:"PREPRICE"},{label:"坪效",value:"PERAREAVALUE"},{label:"成交量",value:"ORDER"},{label:"提袋率",value:"HANDBAGRATE"},{label:"滞留时间",value:"DURATIONTIME"}],this.kpiVal="TRAFFIC";break;default:this.kpiOpt=[],this.kpiVal=""}}},gateLevelChange:function(){"all"===this.gateLevel?this.getAllGates():"mall"===this.gateLevel?this.getMallGates():"floor"===this.gateLevel?this.getFloorList():this.getZoneList()},getAllGates:function(){var t=this;this.gateData=[],this.mutiGateVal=[],this.axios.get("/gates",{params:{accountId:this.$cookie.get("accountId"),mallId:this.mallVal,_t:Date.parse(new Date)/1e3}}).then(function(a){if(a.data.data.length>0){var e=a.data.data;e.forEach(function(t){window.sessionStorage.setItem("gate-"+t.id,t.name)}),t.mutiGateVal=[e[0].id],t.gateData=e}})},getMallGates:function(){var t=this;this.gateData=[],this.mutiGateVal=[],this.axios.get("/gates",{params:{mallId:this.mallVal,status:1,isMallGate:1,_t:Date.parse(new Date)/1e3}}).then(function(a){if(a.data.data.length>0){var e=a.data.data;t.mutiGateVal=[e[0].id],t.gateData=e}})},getFloorList:function(){var t=this;this.gateData=[],this.mutiGateVal=[],this.floorItem=[],this.floorList=[],this.axios.get("/floors",{params:{mallId:this.mallVal,status:1,_t:Date.parse(new Date)/1e3}}).then(function(a){if(a.data.data.length>0){var e=a.data.data;t.floorItem=[e[0].id],t.getFloorGate(t.floorItem.join(",")),t.floorList=e}})},getZoneList:function(){var t=this;this.gateData=[],this.mutiGateVal=[],this.zoneItem=[],this.zoneList=[],this.axios.get("/zones",{params:{mallId:this.mallVal,sortName:'"floor".name, "zone".name',_t:Date.parse(new Date)/1e3}}).then(function(a){if(a.data.data.length>0){var e=a.data.data;t.zoneItem=[e[0].id],t.getZoneGate(t.zoneItem.join(",")),t.zoneList=e}})},levelFloorChange:function(){this.floorItem.length?this.getFloorGate(this.floorItem.join(",")):(this.mutiGateVal=[],this.gateData=[])},getFloorGate:function(t){var a=this;this.gateData=[],this.mutiGateVal=[],this.axios.get("/floorGates",{params:{FloorId_arr:t,_t:Date.parse(new Date)/1e3}}).then(function(t){if(t.data.data.length>0){var e=t.data.data;e.forEach(function(t){t.id=t.gateId,t.name=window.sessionStorage.getItem("gate-"+t.gateId)}),a.mutiGateVal=[e[0].id],a.gateData=e}})},levelZoneChange:function(){this.zoneItem.length?this.getZoneGate(this.zoneItem.join(",")):(this.mutiGateVal=[],this.gateData=[])},getZoneGate:function(t){var a=this;this.gateData=[],this.mutiGateVal=[],this.axios.get("/zoneGates",{params:{ZoneId_arr:t,_t:Date.parse(new Date)/1e3}}).then(function(t){if(t.data.data.length>0){var e=t.data.data;e.forEach(function(t){t.id=t.gateId,t.name=window.sessionStorage.getItem("gate-"+t.gateId)}),a.mutiGateVal=[e[0].id],a.gateData=e}})},getFloorOpt:function(t){var a=this;this.mutiFloorVal=[],this.mutiFloorData=[],this.floorData=[],this.shopFloorData=[],this.floorVal="",this.floorId="",this.shopFloorId="",this.shopFloorVal="",this.axios.get("/floors",{params:{mallId:t,accountId:this.$cookie.get("accountId"),status:1,_t:Date.parse(new Date)/1e3}}).then(function(e){if(e.data.data.length>0){var l=JSON.parse(i()(e.data.data));l.unshift({name:a.$t("asisTab.all"),id:""}),a.floorData=e.data.data,a.shopFloorData=l,a.mutiFloorData=e.data.data,a.shopFloorId=l[0].id,a.shopFloorVal=l[0].id,a.floorId=e.data.data[0].id,a.floorVal=e.data.data[0].id,a.getIoOpt(t,a.floorVal),a.getZoneOpt(t,a.shopFloorVal)}else a.getZoneOpt(t)}).catch(function(t){console.log(t.message,t)})},getZoneOpt:function(t,a){var e=this;this.isZoneSelAll=!1,this.zoneData=[],this.mutiZoneVal=[],this.zoneId="",this.axios.get("/zones",{params:{mallId:t,floorId:a,accountId:this.$cookie.get("accountId"),status:1,sortName:'"floor".name, "zone".name',_t:Date.parse(new Date)/1e3}}).then(function(t){t.data.data.length>0&&(e.zoneData=t.data.data,e.zoneId=t.data.data[0].id,e.mutiZoneVal=[t.data.data[0].id])}).catch(function(t){console.log(t.message,t)})},getIoOpt:function(t,a){var e=this;this.ioData=[],this.ioId="",this.ioVal="",this.axios.get("/gates",{params:{mallId:t,floorId:a,accountId:this.$cookie.get("accountId"),status:1,_t:Date.parse(new Date)/1e3}}).then(function(t){t.data.data.length>0&&(e.ioData=t.data.data,e.ioId=t.data.data[0].id,e.ioVal=e.panelObj.ioPanel?[t.data.data[0].id]:t.data.data[0].id)}).catch(function(t){})},getFormatOpt:function(){var t=this;this.formatData=[],this.formatId="",this.axios.get("/formats",{params:{_t:Date.parse(new Date)/1e3}}).then(function(a){a.data.data.length>0&&(t.formatData=a.data.data,t.formatId=a.data.data[0].id)}).catch(function(t){})},mallChange:function(){this.mallId=this.mallVal,this.mutiMallVal=[this.mallVal],this.panelObj.ioPanel?this.gateLevel="all":this.getFloorOpt(this.mallVal)},mutiFloorMallChange:function(){var t=this;this.mutiFloorData=[],this.mutiFloorVal=[],this.axios.get("/floors",{params:{mallId:this.mallVal,accountId:this.$cookie.get("accountId"),_t:Date.parse(new Date)/1e3}}).then(function(a){var e=a.data;e.data.length>0&&(t.mutiFloorData=e.data,t.mutiFloorVal=[e.data[0].id])}).catch(function(t){console.log(t.message,t)})},gateMallChange:function(){this.gateLevel="all",this.gateLevelChange()},floorChange:function(){this.getZoneOpt(this.mallVal,this.shopFloorVal)},selChange:function(){this.isMallSelAll=(this.isMallSelAll,!(this.mutiMallVal.length<this.mallData.length))},floorChangeHandle:function(){this.isFloorSelAll=(this.isFloorSelAll,!(this.mutiFloorVal.length<this.mutiFloorData.length))},gateChangeHandle:function(){this.isGateSelAll=(this.isGateSelAll,!(this.mutiGateVal.length<this.gateData.length))},zoneChangeHandle:function(){this.isZoneSelAll=(this.isZoneSelAll,!(this.mutiZoneVal.length<this.zoneData.length))},selAllHandle:function(t){var a=this;"mall"===t?this.isMallSelAll?(this.isMallSelAll=!1,this.mutiMallVal.length==this.mallData.length&&(this.mutiMallVal=[])):(this.isMallSelAll=!0,this.mutiMallVal.length==this.mallData.length?this.mutiMallVal=[]:(this.mutiMallVal=[],this.mallData.forEach(function(t){a.mutiMallVal.push(t.id)}))):"floor"===t?this.isFloorSelAll?(this.isFloorSelAll=!1,this.mutiFloorVal.length==this.mutiFloorData.length&&(this.mutiFloorVal=[])):(this.isFloorSelAll=!0,this.mutiFloorVal.length==this.mutiFloorData.length?this.mutiFloorVal=[]:(this.mutiFloorVal=[],this.mutiFloorData.forEach(function(t){a.mutiFloorVal.push(t.id)}))):"gate"===t?this.isGateSelAll?(this.isGateSelAll=!1,this.mutiGateVal.length==this.gateData.length&&(this.mutiGateVal=[])):(this.isGateSelAll=!0,this.mutiGateVal.length==this.gateData.length?this.mutiGateVal=[]:(this.mutiGateVal=[],this.gateData.forEach(function(t){a.mutiGateVal.push(t.id)}))):this.isZoneSelAll?(this.isZoneSelAll=!1,this.mutiZoneVal.length==this.zoneData.length&&(this.mutiZoneVal=[])):(this.isZoneSelAll=!0,this.mutiZoneVal.length==this.zoneData.length?this.mutiZoneVal=[]:(this.mutiZoneVal=[],this.zoneData.forEach(function(t){a.mutiZoneVal.push(t.id)})))},confirmCondition:function(){var t={asis_level:"",asis_date:"",asis_time:"",asis_org:"",asis_kpi:"",asis_format:"",asis_tit:""};switch(this.asisLevel){case"mall":this.paramId=this.mutiMallVal.toString(),t.asis_tit=this.getItemName(this.mallData,this.paramId);break;case"floor":this.paramId=this.mutiFloorVal.toString(),t.asis_tit=this.getItemName(this.mallData,this.mallVal.toString())+"-"+this.getItemName(this.mutiFloorData,this.paramId);break;case"format":t.asis_format=this.formatVal,this.paramId=this.mallVal.toString();break;case"gate":if(!this.mutiGateVal.length)return;this.paramId=this.mutiGateVal.toString(),t.asis_tit=this.getItemName(this.mallData,this.mallVal.toString())+"-"+this.getItemName(this.gateData,this.paramId);break;case"zone":this.paramId=this.mutiZoneVal.toString(),t.asis_tit=this.getItemName(this.mallData,this.mallVal.toString())+"-"+this.getItemName(this.zoneData,this.paramId)}if(t.asis_level=this.asisLevel,t.asis_date="actday","string"==typeof this.yearTime?t.asis_time=this.yearTime+"-01-01":t.asis_time=dateUnit.dateFormat(this.yearTime,"yyyy-MM-dd"),t.asis_org=this.paramId,t.asis_kpi=this.kpiVal,t.asis_act=this.holidayVal,!this.holidayVal)return new Error("活动选项未选择!");this.$emit("reportTime",t)},getItemName:function(t,a){var e="",l=a.split(",")[0];return t.forEach(function(t){t.id==l&&(e=t.name)}),e},resetRefresh:function(){this.tabClickHandle(0),this.mutiMallVal=[this.mallData[0].id],this.yearTime=dateUnit.dateFormat(new Date,"yyyy"),this.holidayVal=this.holidayOpt[0].id,this.kpiVal="TRAFFIC"}},mounted:function(){}},r={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"analysis-option-wrapper"},[e("div",{staticClass:"analysis-level-wrapper"},[e("div",{staticClass:"analysis-level-left"},[e("i",{staticClass:"el-icon-search"}),t._v(" "),e("span",{staticClass:"analysis-level-text"},[t._v(t._s(t.$t("asisTab.level")))])]),t._v(" "),e("div",{staticClass:"analysis-level-right"},[e("ul",{staticClass:"analysis-type-box"},t._l(t.tabItem,function(a,l){return e("li",{key:a.value,class:a.className,on:{click:function(a){t.tabClickHandle(l)}}},[e("span",{staticClass:"analysis-item-title"},[t._v(t._s(t.i18nFormatter(a.label)))])])}))])]),t._v(" "),e("div",{staticClass:"panels-content"},[e("div",{staticClass:"panels-main-top"},[e("ul",{directives:[{name:"show",rawName:"v-show",value:t.panelObj.mallPanel,expression:"panelObj.mallPanel"}],staticClass:"condition-box"},[e("li",{staticClass:"condition-item"},[e("span",{staticClass:"condition-item-text"},[t._v(t._s(t.$t("asisTab.mallT")))]),t._v(" "),e("div",{staticClass:"condition-item-option"},[e("el-select",{staticClass:"mall-sel-box",attrs:{filterable:"",placeholder:t.$t("pholder.shopSelect"),multiple:"","collapse-tags":""},on:{change:t.selChange,"remove-tag":t.removeTag},model:{value:t.mutiMallVal,callback:function(a){t.mutiMallVal=a},expression:"mutiMallVal"}},[e("div",{class:t.isMallSelAll?"sel-all-box selected":"sel-all-box",on:{click:function(a){t.selAllHandle("mall")}}},[e("span",{staticClass:"custom-checkbox__input"},[e("span",{staticClass:"custom-checkbox__inner"})]),t._v(" "),e("span",{staticStyle:{"padding-left":"5px"}},[t._v(t._s(t.$t("allPages.all")))])]),t._v(" "),t._l(t.mallData,function(a){return e("el-option",{key:a.id,attrs:{label:a.name,value:a.id}},[e("span",{staticClass:"custom-checkbox__input"},[e("span",{staticClass:"custom-checkbox__inner"})]),t._v(" "),e("span",{staticStyle:{"padding-left":"5px"}},[t._v(t._s(a.name))])])})],2)],1)])]),t._v(" "),e("ul",{directives:[{name:"show",rawName:"v-show",value:t.panelObj.floorPanel,expression:"panelObj.floorPanel"}],staticClass:"condition-box"},[e("li",{staticClass:"condition-item"},[e("span",{staticClass:"condition-item-text"},[t._v(t._s(t.$t("asisTab.mallT")))]),t._v(" "),e("div",{staticClass:"condition-item-option"},[e("el-select",{staticClass:"mall-sel-box",attrs:{filterable:"",placeholder:t.$t("pholder.shopSelect")},on:{change:t.mutiFloorMallChange},model:{value:t.mallVal,callback:function(a){t.mallVal=a},expression:"mallVal"}},t._l(t.mallData,function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)]),t._v(" "),e("li",{staticClass:"condition-item"},[e("span",{staticClass:"condition-item-text"},[t._v(t._s(t.$t("asisTab.floorT")))]),t._v(" "),e("div",{staticClass:"condition-item-option"},[e("el-select",{staticClass:"floor-sel-box format-sel-box",attrs:{filterable:"",placeholder:t.$t("pholder.floorSelect"),multiple:"","collapse-tags":""},on:{change:t.floorChangeHandle},model:{value:t.mutiFloorVal,callback:function(a){t.mutiFloorVal=a},expression:"mutiFloorVal"}},[e("div",{class:t.isFloorSelAll?"sel-all-box selected":"sel-all-box",on:{click:function(a){t.selAllHandle("floor")}}},[e("span",{staticClass:"custom-checkbox__input"},[e("span",{staticClass:"custom-checkbox__inner"})]),t._v(" "),e("span",{staticStyle:{"padding-left":"5px"}},[t._v(t._s(t.$t("allPages.all")))])]),t._v(" "),t._l(t.mutiFloorData,function(a){return e("el-option",{key:a.id,attrs:{label:a.name,value:a.id}},[e("span",{staticClass:"custom-checkbox__input"},[e("span",{staticClass:"custom-checkbox__inner"})]),t._v(" "),e("span",{staticStyle:{"padding-left":"5px"}},[t._v(t._s(a.name))])])})],2)],1)])]),t._v(" "),e("ul",{directives:[{name:"show",rawName:"v-show",value:t.panelObj.formatPanel,expression:"panelObj.formatPanel"}],staticClass:"condition-box"},[e("li",{staticClass:"condition-item"},[e("span",{staticClass:"condition-item-text"},[t._v(t._s(t.$t("asisTab.mallT")))]),t._v(" "),e("div",{staticClass:"condition-item-option"},[e("el-select",{staticClass:"mall-sel-box",attrs:{filterable:"",placeholder:t.$t("pholder.shopSelect")},model:{value:t.mallVal,callback:function(a){t.mallVal=a},expression:"mallVal"}},t._l(t.mallData,function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)]),t._v(" "),e("li",{staticClass:"condition-item"},[e("span",{staticClass:"condition-item-text"},[t._v(t._s(t.$t("asisTab.floorT")))]),t._v(" "),e("div",{staticClass:"condition-item-option"},[e("el-select",{staticClass:"floor-sel-box",attrs:{filterable:"",placeholder:t.$t("pholder.floorSelect")},model:{value:t.floorVal,callback:function(a){t.floorVal=a},expression:"floorVal"}},t._l(t.floorData,function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)])]),t._v(" "),e("ul",{directives:[{name:"show",rawName:"v-show",value:t.panelObj.ioPanel,expression:"panelObj.ioPanel"}],staticClass:"condition-box"},[e("li",{staticClass:"condition-item"},[e("span",{staticClass:"condition-item-text"},[t._v(t._s(t.$t("asisTab.mallT")))]),t._v(" "),e("div",{staticClass:"condition-item-option"},[e("el-select",{staticClass:"mall-sel-box",attrs:{filterable:"",placeholder:t.$t("pholder.shopSelect")},on:{change:t.gateMallChange},model:{value:t.mallVal,callback:function(a){t.mallVal=a},expression:"mallVal"}},t._l(t.mallData,function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)]),t._v(" "),e("li",{staticClass:"condition-item gate-level-item"},[e("span",{staticClass:"condition-item-text"},[t._v(t._s(t.$t("asisTab.inOutLev")))]),t._v(" "),e("div",{staticClass:"condition-item-option"},[e("el-select",{staticClass:"floor-sel-box",attrs:{placeholder:t.$t("pholder.gateLevel")},on:{change:t.gateLevelChange},model:{value:t.gateLevel,callback:function(a){t.gateLevel=a},expression:"gateLevel"}},t._l(t.gateLevelList,function(a){return e("el-option",{key:a.value,attrs:{label:t.$t("asisTab."+a.label),value:a.value}})})),t._v(" "),"floor"===t.gateLevel||"zone"===t.gateLevel?e("span",[t._v("-")]):t._e(),t._v(" "),"floor"===t.gateLevel?e("el-select",{staticClass:"floor-sel-box",attrs:{multiple:"",placeholder:t.$t("pholder.floorSelect")},on:{change:t.levelFloorChange},model:{value:t.floorItem,callback:function(a){t.floorItem=a},expression:"floorItem"}},t._l(t.floorList,function(a){return e("el-option",{key:a.id,attrs:{label:a.name,value:a.id}},[e("span",{staticClass:"custom-checkbox__input"},[e("span",{staticClass:"custom-checkbox__inner"})]),t._v(" "),e("span",{staticStyle:{"padding-left":"5px"}},[t._v(t._s(a.name))])])})):t._e(),t._v(" "),"zone"===t.gateLevel?e("el-select",{staticClass:"zone-sel-box",attrs:{multiple:"",placeholder:t.$t("pholder.zoneSelect")},on:{change:t.levelZoneChange},model:{value:t.zoneItem,callback:function(a){t.zoneItem=a},expression:"zoneItem"}},t._l(t.zoneList,function(a){return e("el-option",{key:a.id,attrs:{label:a.name,value:a.id}},[e("span",{staticClass:"custom-checkbox__input"},[e("span",{staticClass:"custom-checkbox__inner"})]),t._v(" "),e("span",{staticStyle:{"padding-left":"5px"}},[t._v(t._s(a.name))])])})):t._e()],1)]),t._v(" "),e("li",{staticClass:"condition-item"},[e("span",{staticClass:"condition-item-text"},[t._v(t._s(t.$t("asisTab.inOutT")))]),t._v(" "),e("div",{staticClass:"condition-item-option"},[e("el-select",{staticClass:"format-sel-box",attrs:{placeholder:t.$t("pholder.gateType"),multiple:"","collapse-tags":""},on:{change:t.gateChangeHandle},model:{value:t.mutiGateVal,callback:function(a){t.mutiGateVal=a},expression:"mutiGateVal"}},[e("div",{class:t.isGateSelAll?"sel-all-box selected":"sel-all-box",on:{click:function(a){t.selAllHandle("gate")}}},[e("span",{staticClass:"custom-checkbox__input"},[e("span",{staticClass:"custom-checkbox__inner"})]),t._v(" "),e("span",{staticStyle:{"padding-left":"5px"}},[t._v(t._s(t.$t("allPages.all")))])]),t._v(" "),t._l(t.gateData,function(a){return e("el-option",{key:a.id,attrs:{label:a.name,value:a.id}},[e("span",{staticClass:"custom-checkbox__input"},[e("span",{staticClass:"custom-checkbox__inner"})]),t._v(" "),e("span",{staticStyle:{"padding-left":"5px"}},[t._v(t._s(a.name))])])})],2)],1)])]),t._v(" "),e("ul",{directives:[{name:"show",rawName:"v-show",value:t.panelObj.shopPanel,expression:"panelObj.shopPanel"}],staticClass:"condition-box"},[e("li",{staticClass:"condition-item"},[e("span",{staticClass:"condition-item-text"},[t._v(t._s(t.$t("asisTab.mallT")))]),t._v(" "),e("div",{staticClass:"condition-item-option"},[e("el-select",{staticClass:"mall-sel-box",attrs:{filterable:"",placeholder:t.$t("pholder.shopSelect")},on:{change:t.mallChange},model:{value:t.mallVal,callback:function(a){t.mallVal=a},expression:"mallVal"}},t._l(t.mallData,function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)]),t._v(" "),e("li",{staticClass:"condition-item"},[e("span",{staticClass:"condition-item-text"},[t._v(t._s(t.$t("asisTab.floorT")))]),t._v(" "),e("div",{staticClass:"condition-item-option"},[e("el-select",{staticClass:"floor-sel-box",attrs:{filterable:"",placeholder:t.$t("pholder.floorSelect")},on:{change:t.floorChange},model:{value:t.shopFloorVal,callback:function(a){t.shopFloorVal=a},expression:"shopFloorVal"}},t._l(t.shopFloorData,function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)]),t._v(" "),e("li",{staticClass:"condition-item"},[e("span",{staticClass:"condition-item-text"},[t._v(t._s(t.$t("asisTab.storeT")))]),t._v(" "),e("div",{staticClass:"condition-item-option "},[e("el-select",{staticClass:"shop-sel-box",attrs:{filterable:"",placeholder:t.$t("pholder.areaSelect"),multiple:"","collapse-tags":""},on:{change:t.zoneChangeHandle},model:{value:t.mutiZoneVal,callback:function(a){t.mutiZoneVal=a},expression:"mutiZoneVal"}},[e("div",{class:t.isZoneSelAll?"sel-all-box selected":"sel-all-box",on:{click:function(a){t.selAllHandle("zone")}}},[e("span",{staticClass:"custom-checkbox__input"},[e("span",{staticClass:"custom-checkbox__inner"})]),t._v(" "),e("span",{staticStyle:{"padding-left":"5px"}},[t._v(t._s(t.$t("allPages.all")))])]),t._v(" "),t._l(t.zoneData,function(a){return e("el-option",{key:a.id,attrs:{label:a.name,value:a.id}},[e("span",{staticClass:"custom-checkbox__input"},[e("span",{staticClass:"custom-checkbox__inner"})]),t._v(" "),e("span",{staticStyle:{"padding-left":"5px"}},[t._v(t._s(a.name))])])})],2)],1)])])]),t._v(" "),e("div",{staticClass:"panels-main-bottom"},[e("ul",{staticClass:"condition-box"},[e("li",{staticClass:"condition-item"},[e("span",{staticClass:"condition-item-text"},[t._v(t._s(t.$t("asisTab.date")))]),t._v(" "),e("div",{staticClass:"condition-item-option event-date"},[e("el-date-picker",{staticClass:"analysis-date-input",attrs:{align:"center",type:"year",format:"yyyy 年","picker-options":t.pickerOptions1,size:"mini",placeholder:t.$t("pholder.year")},on:{change:t.getEvents},model:{value:t.yearTime,callback:function(a){t.yearTime=a},expression:"yearTime"}})],1)]),t._v(" "),e("li",{staticClass:"condition-item analysis-date-condition"},[e("span",{staticClass:"condition-item-text"},[t._v(t._s(t.$t("asisTab.event")))]),t._v(" "),e("div",{staticClass:"condition-item-option event-select"},[e("el-select",{staticClass:"shop-sel-box",attrs:{filterable:"",placeholder:t.$t("pholder.event")},model:{value:t.holidayVal,callback:function(a){t.holidayVal=a},expression:"holidayVal"}},t._l(t.holidayOpt,function(t,a){return e("el-option",{key:a,attrs:{label:t.name,value:t.id}})}))],1)]),t._v(" "),e("li",{class:t.reportTime.isCustom?"condition-item spe-item":"condition-item"},[e("span",{staticClass:"condition-item-text"},[t._v(t._s(t.$t("asisTab.index")))]),t._v(" "),e("div",{staticClass:"condition-item-option"},[e("el-select",{staticClass:"indicator-sel-box",attrs:{placeholder:t.$t("pholder.kpi")},model:{value:t.kpiVal,callback:function(a){t.kpiVal=a},expression:"kpiVal"}},t._l(t.kpiOpt,function(a,l){return e("el-option",{key:l,attrs:{label:t.kpiI18n(a.value),value:a.value}})}))],1)]),t._v(" "),e("li",{class:t.reportTime.isCustom?"condition-item spe-item":"condition-item"},[e("el-button",{staticClass:"primary-btn analysis-collapse-btn",attrs:{type:"primary",size:"samll"},on:{click:t.confirmCondition}},[t._v(t._s(t.$t("button.confirm")))]),t._v(" "),e("el-button",{staticClass:"reset-btn analysis-collapse-btn",attrs:{size:"samll"},on:{click:t.resetRefresh}},[t._v(t._s(t.$t("button.reset")))])],1)])])])])},staticRenderFns:[]},c=e("VU/8")(n,r,!1,function(t){e("npf8")},"data-v-1f3dd0d5",null);a.a=c.exports}});