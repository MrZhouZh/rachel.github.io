webpackJsonp([8],{"+4/Q":function(t,e){},"+Ol3":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("KiDq"),l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"manage-container gateManage-wrapper"},[a("el-row",{staticClass:"manage-head-wrapper"},[a("el-col",{attrs:{xs:20,sm:22,md:22,lg:22}},[a("div",{staticClass:"manage-select-box"},[a("el-select",{attrs:{filterable:"",placeholder:"店铺选择"},on:{change:t.mallChange},model:{value:t.mallValue,callback:function(e){t.mallValue=e},expression:"mallValue"}},t._l(t.mallListForTerm,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"mall"==t.$Project,expression:"$Project == 'mall' ? true : false"}],staticClass:"manage-select-box"},[a("el-select",{attrs:{filterable:"",placeholder:t.$t("pholder.shopSelect")},on:{change:t.floorChange},model:{value:t.floorValue,callback:function(e){t.floorValue=e},expression:"floorValue"}},t._l(t.floorListForTerm,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"mall"==t.$Project,expression:"$Project == 'mall' ? true : false"}],staticClass:"manage-select-box"},[a("el-select",{attrs:{filterable:"",placeholder:t.$t("pholder.areaSelect")},model:{value:t.zoneValue,callback:function(e){t.zoneValue=e},expression:"zoneValue"}},t._l(t.zoneListForTerm,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("div",{staticClass:"manage-select-box"},[a("el-select",{staticClass:"mall-gate-sel",attrs:{placeholder:"店铺入口"},model:{value:t.isAisle,callback:function(e){t.isAisle=e},expression:"isAisle"}},[a("el-option",{attrs:{label:t.$t("pholder.all"),value:""}}),t._v(" "),a("el-option",{attrs:{label:t.$t("pholder.inOut"),value:"true"}}),t._v(" "),a("el-option",{attrs:{label:t.$t("pholder.Nonentry"),value:"false"}})],1)],1),t._v(" "),a("div",{staticClass:"manage-select-box"},[a("el-select",{attrs:{placeholder:t.$t("pholder.state")},model:{value:t.statusVal,callback:function(e){t.statusVal=e},expression:"statusVal"}},t._l(t.statusList,function(t,e){return a("el-option",{key:t.provinceId,attrs:{label:t.statusName,value:t.statusId}})}))],1),t._v(" "),a("div",{staticClass:"manage-input-box"},[a("el-input",{staticClass:"search-inp",attrs:{placeholder:t.$t("table.monitorSiteName"),clearable:""},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.searchFun(e)}},model:{value:t.name_like,callback:function(e){t.name_like=e},expression:"name_like"}})],1),t._v(" "),a("el-button",{staticClass:"search-btn",attrs:{type:"primary",plain:""},on:{click:t.searchFun}},[t._v(t._s(t.$t("button.search")))])],1),t._v(" "),a("el-col",{attrs:{xs:4,sm:2,md:2,lg:2}},[a("el-button",{staticClass:"manage-add-btn",attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:t.addGateHandle}},[t._v(t._s(t.$t("button.addSite")))])],1)],1),t._v(" "),a("el-row",{staticClass:"manage-content"},[a("el-col",{attrs:{span:24}},[a("el-table",{ref:"row_table",staticClass:"gate-table",staticStyle:{width:"100%"},attrs:{data:t.tableData,"max-height":t.tableHeight,"header-row-class-name":"manage-tab-head"},on:{"expand-change":t.expandHandle}},[a("el-table-column",{attrs:{type:"expand",prop:"children"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-table",{staticClass:"expand-table",attrs:{data:e.row.children,"empty-text":t.noDataText,"show-header":t.childrenHeader}},[a("el-table-column",{attrs:{align:"center",width:"148"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"child-order-column"},[a("div",{staticClass:"child-order__icon-inner"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.row.childOrder)+"\n\t\t\t\t\t\t\t\t\t\t")])])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticClass:"iplink-column",attrs:{href:e.row.device&&e.row.device.localIp?"http://"+e.row.device.localIp+":8080":"javascript:void(0);",target:"_blank"}},[t._v(t._s(e.row.device&&e.row.device.localIp?e.row.device.localIp:"--"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"deviceSerialnum",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"serialnum",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",formatter:t.channelTypeFormat,align:"center"}}),t._v(" "),a("el-table-column",{attrs:{align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"unbind-btn",attrs:{type:"text",size:"small"},on:{click:function(a){t.unBind(e.row,e.$index)}}},[t._v(t._s(t.$t("button.ubind")))])]}}])})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"order",label:t.$t("table.order"),align:"center",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:t.$t("table.monitorSiteName"),align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:t.statusFormatter,label:t.$t("table.state"),align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:t.$t("table.type"),formatter:t.typeFormatter,align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"floor.name",label:t.$t("table.InstallationFloor"),align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"isMallGate",formatter:t.gateFormatter,label:t.$t("table.SquareEntrance"),align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"isHasFace",formatter:t.faceFormatter,label:t.$t("table.faceCamera"),align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"deviceBind",label:t.$t("table.deviceBind"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"tab-btn",attrs:{type:"text",size:"small"},on:{click:function(a){t.bindRow(e.row)}}},[t._v(t._s(t.$t("button.bind")))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("table.operate"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"tab-btn",attrs:{type:"text",size:"small"},on:{click:function(a){t.editRow(e.row)}}},[t._v(t._s(t.$t("button.edit")))]),t._v(" "),a("el-button",{staticClass:"tab-btn",attrs:{type:"text",size:"small"},on:{click:function(a){t.changeStatus(e.row)}}},[t._v(t._s(t.$t("button.disable")))])]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"manage-pagination-box",attrs:{background:"","current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"sizes, prev, pager, next, slot",total:t.total},on:{"size-change":t.sizeChange,"current-change":t.cerrentChange}},[a("span",{staticClass:"slot-pagination-ele slot-ele-total"},[t._v(t._s(t.$t("table.pageHead"))+" "+t._s(t.total)+" "+t._s(t.$t("table.pageTail")))])])],1)],1),t._v(" "),a("add-gate-dialog",{ref:"addgateModel"}),t._v(" "),a("edit-gate-dialog",{ref:"editgateModel"}),t._v(" "),a("bind-dev-dialog",{ref:"bindevModel"})],1)},staticRenderFns:[]},s=function(t){a("TNSf")},o=a("VU/8")(i.a,l,!1,s,"data-v-3c582d3e",null);e.default=o.exports},"0J4c":function(t,e){},E5qO:function(t,e,a){"use strict";(function(t){var i=a("wi9b"),l=a.n(i);e.a={data:function(){return{xyDialogVisible:!1,xVal:"",yVal:"",floorImg:""}},methods:{dialogInit:function(t){this.floorImg=t,this.xyDialogVisible=!0},getXyAxis:function(e){var a,i,s=this,o=new Image;o.src=this.floorImg,o.onload=function(){var o=s.getStyleFn(".floorimg","width"),n=s.getStyleFn(".floorimg","height");a=s.normalWidth/o,i=s.normalHeight/n;var r=e||window.event,d=r.target.getBoundingClientRect(),c=(d.top-r.target.clientTop).toFixed(0),m=d.left-r.target.clientLeft,u=r.pageX-m-t(document).scrollLeft(),g=r.pageY-c-t(document).scrollTop();s.xVal=(u*a).toFixed(2),s.yVal=(g*i).toFixed(2);var h=document.getElementById("xycanvas");if(h.width=o,h.height=n,h.getContext){var f=h.getContext("2d");f.clearRect(0,0,h.width,h.height);var p=new Image;p.src=l.a,p.onload=function(){f.drawImage(p,u-15,g-30,30,30)}}}},transferXy:function(){this.$emit("posXY",{x:this.xVal,y:this.yVal}),this.xyDialogVisible=!1},closeHandle:function(){this.xVal="",this.yVal="",this.floorImg="";var t=document.getElementById("xycanvas");if(t.getContext){t.getContext("2d").clearRect(0,0,t.width,t.height)}}}}}).call(e,a("7t+N"))},KiDq:function(t,e,a){"use strict";(function(t){var i=a("PAnj"),l=a.n(i),s=a("wi9b"),o=a.n(s),n=a("Ofds"),r=a("UpD8"),d=a("w/Km");e.a={data:function(){return{floorPlanUrl:window.apiUrl+"/floors/img/",btnDisabled:!1,blocList:[],mallListForTerm:[],floorListForTerm:[],zoneListForTerm:[],blocValue:"",mallValue:"",floorValue:"",zoneValue:"",isAisle:"",tableHeight:0,addDialogVisible:!1,editDialogVisible:!1,xyDialogVisible:!1,xyEditVisible:!1,name_like:"",rowId:"",tableData:[],total:0,pageSize:10,currentPage:1,formLabelWidth:"90px",addForm:{status:"",mallId:"",type:"",floorId:"",x:"",y:"",isMallGate:"",isHasFace:""},uploadHeader:{},editForm:{name:"",externalId:"",type:null,status:null,mallId:null,floorId:null,x:null,y:null,isMallGate:null,isHasFace:null,intro:""},rules:{name:[{required:!0,message:"请输入监控点名称",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}],x:[{validator:function(t,e,a){if(!e&&0!=e)return a(new Error("X坐标不能为空"));/^[0-9]+([.]{1}[0-9]+){0,1}$/.test(e)?a():a(new Error("请输入正确的格式"))},trigger:"change"}],y:[{validator:function(t,e,a){if(!e&&0!=e)return a(new Error("Y坐标不能为空"));/^[0-9]+([.]{1}[0-9]+){0,1}$/.test(e)?a():a(new Error("请输入正确的格式"))},trigger:"change"}],mallId:[{required:!0,message:"请选择门店",trigger:"change"}],isMallGate:[{required:!0,message:"请选择是否为入口",trigger:"change"}],isHasFace:[{required:!0,message:"请选择是否为人脸",trigger:"change"}]},mallList:[],accountList:[],floorList:[],deviceOps:[],channelOps:[],bussinessOps:[],channelMap:{},childrenHeader:!1,noDataText:"load",levelVal:"",levelData:[{name:this.$t("asisTab.all"),val:"all"},{name:"广场",val:"mall"},{name:"楼层",val:"floor"},{name:"店铺",val:"zone"}],mallVal:"",mallData:[],mallItem:"",mallOps:[],floorItem:"",floorOps:[],zoneItem:"",zoneOps:[],xVal:"",yVal:"",editXVal:"",editYVal:"",floorImg:"",editFloorImg:"",xyImg:"",XyActive:!0,EditXyActive:!1,picUploadUrl:window.apiUrl+"/channels/upload",isBusinessType:!1,curBindRow:{},heatMapUrl:"",deviceWidth:"",deviceHeight:"",statusList:[{statusId:"",statusName:this.$t("pholder.allstate")},{statusId:1,statusName:this.$t("table.stateA")},{statusId:2,statusName:this.$t("table.stateB")}],statusVal:1,isSup:null}},created:function(){var e=t(window).height();this.tableHeight=e-.24*e,this.isSup="super"===this.$cookie.get("user_type"),this.getAccountList()},components:{"add-gate-dialog":n.a,"edit-gate-dialog":r.a,"bind-dev-dialog":d.a},mounted:function(){this.uploadHeader={Authorization:this.$cookie.get("atoken")}},methods:{getTableData:function(){var t=this,e={accountId:this.blocValue,mallId:this.mallValue,floorId:this.floorValue?this.floorValue:null,zoneId:this.zoneValue?this.zoneValue:null,isAisle:this.isAisle?this.isAisle:null,name_like:this.name_like?"%"+this.name_like+"%":null,page:this.currentPage,status:this.statusVal,pageSize:this.pageSize,_t:Date.parse(new Date)/1e3};this.axios.get("/gates/filter",{params:e}).then(function(e){t.tableData=[];var a=e.data;a.data.list.forEach(function(e,a){e.order=(t.currentPage-1)*t.pageSize+a+1,e.children=[]}),t.tableData=a.data.list,t.total=a.data.total}).catch(function(t){})},sizeChange:function(t){this.pageSize=t,this.getTableData()},cerrentChange:function(t){this.currentPage!=t&&(this.currentPage=t,this.getTableData())},addGateHandle:function(){this.$refs.addgateModel.dialogInit(this.mallValue)},expandHandle:function(t,e){var a=this;this.$refs.row_table.store.states.expandRows=e.length?[t]:[];var i=!1;this.$refs.row_table.store.states.expandRows.length>0&&this.$refs.row_table.store.states.expandRows[0].id==t.id&&(i=!0),this.noDataText="load",t.children=[],i&&this.axios.get("/channels",{params:{gateId:t.id,_t:Date.parse(new Date)/1e3}}).then(function(e){0==e.data.data.length&&(a.noDataText=a.$t("echartsTitle.noData")),e.data.data.forEach(function(t,e){t.childOrder=++e}),t.children=e.data.data}).catch(function(t){})},channelTypeFormat:function(t,e,a){return 1==a?this.$t("dictionary.face"):2==a?this.$t("dictionary.count"):3==a?this.$t("dictionary.heatmap"):"--"},bindRow:function(t){this.$refs.bindevModel.dialogInit(t)},linkage:function(t,e){this.deviceArr[t].channelOps=[],this.deviceArr[t].channelOps=this.channelMap[e],this.deviceArr[t].channelOps.length&&(this.deviceArr[t].vchanId=this.deviceArr[t].channelOps[0].val)},businessHandle:function(t){this.isBusinessType=!1},editRow:function(t){this.$refs.editgateModel.dialogInit(t)},changeStatus:function(t){var e=this;2!==t.status&&this.axios.post("/gates/"+t.id,{status:2}).then(function(t){e.getTableData()}).catch(function(t){})},editSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.btnDisabled=!0,setTimeout(function(){e.btnDisabled=!1},2e3),e.editForm.accountId=e.$cookie.get("accountId"),e.axios.post("/gates/"+e.rowId,e.editForm).then(function(t){e.editDialogVisible=!1,e.getTableData()}).catch(function(t){})})},deleteRow:function(t,e){var a=this;this.$confirm(this.$t("message.delete"),this.$t("message.prompt"),{confirmButtonText:this.$t("message.confirm"),cancelButtonText:this.$t("message.cancel"),type:"warning"}).then(function(){var i=e[t].id;a.axios.delete("/gates/"+i,{params:{}}).then(function(a){e.splice(t,1)}).catch(function(t){})}).catch(function(){a.$message({showClose:!0,type:"info",message:a.$t("message.cancelDelete")})})},searchFun:function(){this.currentPage=1,this.getTableData()},addDialogClose:function(){this.$refs.addForm.resetFields(),this.XyActive=!0},editDialogClose:function(){this.$refs.editForm.clearValidate(),this.editForm={},this.EditXyActive=!0},closeEditDialog:function(){this.editFloorImg="",this.editXVal="",this.editYVal="";var t=document.getElementById("editXycanvas");if(t.getContext){t.getContext("2d").clearRect(0,0,t.width,t.height)}},dialogOpenAdd:function(t){t.accountId=this.$cookie.get("accountId"),this.getMallList(t.accountId)},changeAddAccount:function(t){this.getMallList(t)},changeEditAccount:function(t){this.editChangeGetMall(t)},changeAddMall:function(t){this.getFloorList(t)},getFloorImg:function(){var t=this;this.addForm.floorId?this.XyActive=!1:this.XyActive=!0,this.axios.get("/floors",{params:{id:this.addForm.floorId,_t:Date.parse(new Date)/1e3}}).then(function(e){e.data.data[0].floorPlan?t.floorImg=t.floorPlanUrl+e.data.data[0].floorPlan:(t.floorImg=l.a,t.$message({showClose:!0,message:t.$t("message.NoFloorImg"),type:"warning"}))}).catch(function(t){console.log(t.message)})},getEditFloorImg:function(){var t=this;this.axios.get("/floors",{params:{id:this.editForm.floorId,_t:Date.parse(new Date)/1e3}}).then(function(e){e.data.data[0].floorPlan?t.editFloorImg=t.floorPlanUrl+e.data.data[0].floorPlan:(t.floorImg=l.a,t.$message({showClose:!0,message:t.$t("message.NoFloorImg"),type:"warning"}))}).catch(function(t){console.log(t.message)})},changeEditMall:function(t){this.editChangeGetFloor(t)},dateFormatter:function(t,e,a){if(a.split(" "))return a.split(" ")[0]},statusFormatter:function(t,e,a){return a=1==a?this.$t("table.stateA"):this.$t("table.stateB")},axisFormatter:function(t,e,a){return t.x||t.y?"("+t.x+","+t.y+")":"--"},typeFormatter:function(t,e,a){return a=1==a?this.$t("dictionary.tradCount"):2==a?this.$t("dictionary.inStoreRate"):3==a?this.$t("dictionary.faceFlow"):4==a?this.$t("dictionary.heatmap"):5==a?this.$t("dictionary.faceCapture"):this.$t("dictionary.other")},gateFormatter:function(t,e,a){return a=0==a?"否":"是"},faceFormatter:function(t,e,a){return 0==a?"否":"是"},getAccountList:function(){this.blocValue=this.$cookie.get("accountId"),this.getMallListForTerm(this.blocValue)},getMallList:function(t){var e=this;this.addForm.mallId="",this.addForm.floorId="",this.floorList=[],this.mallList=[],this.axios.get("/malls",{params:{accountId:t,_t:Date.parse(new Date)/1e3}}).then(function(t){var a=t.data;e.mallList=a.data,e.mallList.length>0&&(e.addForm.mallId=e.mallList[0].id,e.getFloorList(e.addForm.mallId))}).catch(function(t){})},blocChange:function(){this.getMallListForTerm(this.blocValue)},mallChange:function(){this.setSessionLocal("manageMallId",this.mallValue),this.getFloorListForTerm(this.mallValue)},floorChange:function(){this.getZoneListForTerm(this.mallValue,this.floorValue)},getMallListForTerm:function(t){var e=this;this.mallListForTerm=[],this.mallValue="",this.axios.get("/malls",{params:{accountId:t,_t:Date.parse(new Date)/1e3}}).then(function(t){var a=t.data;a.data.length&&(e.getSessionLocal("manageMallId")?e.mallValue=Number(e.getSessionLocal("manageMallId")):(e.mallValue=a.data[0].id,e.setSessionLocal("manageMallId",e.mallValue)),e.getFloorListForTerm(e.mallValue),e.mallListForTerm=a.data),e.getTableData()}).catch(function(t){})},getEditMall:function(t){var e=this;this.editForm.mallId="",this.editForm.floorId="",this.floorList=[],this.mallList=[],this.axios.get("/malls",{params:{accountId:t.accountId,_t:Date.parse(new Date)/1e3}}).then(function(a){var i=a.data;i.data.length>0&&e.getEditFloor(t),e.mallList=i.data}).catch(function(t){})},editChangeGetMall:function(t){var e=this;this.editForm.mallId="",this.editForm.floorId="",this.mallList=[],this.floorList=[],this.axios.get("/malls",{params:{accountId:t,_t:Date.parse(new Date)/1e3}}).then(function(t){var a=t.data;a.data.length>0&&(e.editForm.mallId=a.data[0].id,e.editChangeGetFloor(e.editForm.mallId)),e.mallList=a.data}).catch(function(t){})},getFloorList:function(t){var e=this;this.addForm.floorId="",this.floorList=[],this.axios.get("/floors",{params:{mallId:t,_t:Date.parse(new Date)/1e3}}).then(function(t){var a=t.data;a.data.length>0&&(a.data.unshift({name:"请选择",id:""}),e.floorList=a.data,e.addForm.floorId=e.floorList[0].id),e.floorList=a.data}).catch(function(t){})},getFloorListForTerm:function(t){var e=this;this.floorValue="",this.floorListForTerm=[],this.axios.get("/floors",{params:{mallId:t,_t:Date.parse(new Date)/1e3}}).then(function(a){var i=a.data;i.data.length>0?(i.data.unshift({id:"",name:e.$t("pholder.allFloor")}),e.floorValue=i.data[0].id,e.getZoneListForTerm(t,e.floorValue),e.floorListForTerm=i.data):e.getZoneListForTerm(t)}).catch(function(t){})},getZoneListForTerm:function(t,e){var a=this;this.zoneValue="",this.zoneListForTerm=[],this.axios.get("/zones",{params:{mallId:t,floorId:e||null,sortName:'"floor".name, "zone".name',_t:Date.parse(new Date)/1e3}}).then(function(t){var e=t.data;e.data.length>0&&e.data.unshift({id:"",name:a.$t("pholder.allArea")}),a.zoneListForTerm=e.data,a.floorListForTerm.forEach(function(t){0==index&&(a.zoneValue=t.id)})}).catch(function(t){})},getEditFloor:function(t){var e=this;this.floorList=[],this.editForm.floorId="",this.axios.get("/floors",{params:{mallId:t.mallId,_t:Date.parse(new Date)/1e3}}).then(function(a){var i=a.data;e.floorList=[],i.data.length>0&&i.data.forEach(function(a){t.floorId==a.id&&(e.editForm.floorId=a.id)}),e.floorList=i.data}).catch(function(t){})},editChangeGetFloor:function(t){var e=this;this.floorList=[],this.editForm.floorId="",this.axios.get("/floors",{params:{mallId:t,_t:Date.parse(new Date)/1e3}}).then(function(t){var a=t.data;a.data.length>0&&(e.editForm.floorId=a.data[0].id),e.floorList=a.data}).catch(function(t){})},gateBind:function(){var t=this,e={},a=[],i=[];this.deviceArr.forEach(function(l){if(a=[],i=[],i=l.deviceOps.filter(function(t){if(t.id===l.deviceId)return t}),a=l.channelOps.filter(function(t){if(t.val===l.vchanId)return t}),e={id:l.vchanId,gateId:t.bindGateId,serialnum:a[0].name,deviceId:Number(i[0].id),deviceSerialnum:i[0].name,type:l.bussinessType},t.isBusinessType){if(e.heatMapUrl=t.heatMapUrl,e.width=t.deviceWidth,e.height=t.deviceHeight,e.accountId=t.curBindRow.accountId,e.mallId=t.curBindRow.mallId,!t.heatMapUrl)return void t.$message({showClose:!0,type:"warning",message:t.$t("message.uploadHeatImg")});if(!t.deviceWidth)return void t.$message({showClose:!0,type:"warning",message:t.$t("message.imgWidth")});if(!t.deviceHeight)return void t.$message({showClose:!0,type:"warning",message:t.$t("message.imgHeight")})}t.btnDisabled=!0,setTimeout(function(){t.btnDisabled=!1},2e3),t.axios.post("/channels/"+l.vchanId,e).then(function(e){200==e.data.code?(t.$message({showClose:!0,type:"success",message:t.$t("message.bindDevice")}),t.getTableData()):t.$message({showClose:!0,type:"success",message:t.$t("message.deviceFailed")+e.data.msg})}).catch(function(t){console.log("error:",t)})})},unBind:function(t,e){var a=this,i=null;this.tableData.forEach(function(e,a){e.children.length&&e.children.forEach(function(e){e.id!=t.id||(i=a)})}),this.$confirm(this.$t("message.confirmUnbind"),this.$t("message.prompt"),{confirmButtonText:this.$t("message.confirm"),cancelButtonText:this.$t("message.cancel"),type:"warning"}).then(function(){a.axios.post("/channels/untieChannel/"+t.id,{}).then(function(t){200==t.data.code&&(a.$message({showClose:!0,type:"success",message:t.data.msg}),a.tableData[i].children.splice(e,1),0==a.tableData[i].children.length&&(a.noDataText=a.$t("echartsTitle.noData")))}).catch(function(t){console.log("err",t.message)})}).catch(function(t){console.log(t.message)})},editXY:function(){var t=this;this.axios.get("/floors",{params:{id:this.editForm.floorId,_t:Date.parse(new Date)/1e3}}).then(function(e){e.data.data[0].floorPlan?t.editFloorImg=t.floorPlanUrl+e.data.data[0].floorPlan:(t.editFloorImg=l.a,t.$message({showClose:!0,message:t.$t("message.NoFloorImg"),type:"warning"})),t.xyEditVisible=!0,t.xyImg=o.a;var a=null,i=null,s=t,n=new Image;n.src=t.editFloorImg,n.onload=function(){var t=s.getStyleFn(".floorimg","width"),e=s.getStyleFn(".floorimg","height");a=s.normalWidth/t,i=s.normalWidth/e,s.editForm.x&&(s.editXVal=s.editForm.x),s.editForm.y&&(s.editYVal=s.editForm.y);var l=(s.editForm.x/a).toFixed(2),n=(s.editForm.y/i).toFixed(2);setTimeout(function(){var a=document.getElementById("editXycanvas");if(a.width=t,a.height=e,a.getContext){var i=a.getContext("2d");i.clearRect(0,0,a.width,a.height);var s=new Image;s.src=o.a,s.onload=function(){i.drawImage(s,l-15,n-30,30,30)}}},0)}}).catch(function(t){console.log(t.message)}),this.xyEditVisible=!0},transferXy:function(){this.xyDialogVisible=!1,this.addForm.x=this.xVal,this.addForm.y=this.yVal},transferEditXy:function(){this.xyEditVisible=!1,this.editForm.x=this.editXVal,this.editForm.y=this.editYVal},getXyAxis:function(e){var a,i,l=this,s=new Image;s.src=this.floorImg,s.onload=function(){var s=l.getStyleFn(".floorimg","width"),n=l.getStyleFn(".floorimg","height");a=l.normalWidth/s,i=l.normalHeight/n;var r=e||window.event,d=r.target.getBoundingClientRect(),c=(d.top-r.target.clientTop).toFixed(0),m=d.left-r.target.clientLeft,u=r.pageX-m-t(document).scrollLeft(),g=r.pageY-c-t(document).scrollTop();l.xVal=parseInt(u*a),l.yVal=parseInt(g*i);var h=document.getElementById("xycanvas");if(h.width=s,h.height=n,h.getContext){var f=h.getContext("2d");f.clearRect(0,0,h.width,h.height);var p=new Image;p.src=o.a;(function(t){var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;window.devicePixelRatio})(f);p.onload=function(){f.drawImage(p,u-15,g-30,30,30)}}}},getEditXyAxis:function(e){var a,i,l=this,s=new Image;s.src=this.editFloorImg,s.onload=function(){var s=l.getStyleFn(".floorimg","width"),n=l.getStyleFn(".floorimg","height");a=l.normalWidth/s,i=l.normalHeight/n;var r=e||window.event,d=r.target.getBoundingClientRect(),c=(d.top-r.target.clientTop).toFixed(0),m=d.left-r.target.clientLeft,u=r.pageX-m-t(document).scrollLeft(),g=r.pageY-c-t(document).scrollTop();l.editXVal=parseInt(u*a),l.editYVal=parseInt(g*i);var h=document.getElementById("editXycanvas");if(h.width=s,h.height=n,h.getContext){var f=h.getContext("2d");f.clearRect(0,0,h.width,h.height);var p=new Image;p.src=o.a;p.onload=function(){f.drawImage(p,u-15,g-30,30,30)}}}}},beforeDestroy:function(){}}}).call(e,a("7t+N"))},Ofds:function(t,e,a){"use strict";var i=a("E5qO"),l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"manage-dialog xy-dialog",attrs:{title:"地图坐标拾取",visible:t.xyDialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.xyDialogVisible=e},close:t.closeHandle}},[a("div",{staticClass:"xy-row"},[a("div",{staticClass:"xy-row"},[a("span",{staticClass:"xy-row-text"},[t._v("X 轴: ")]),t._v(" "),a("el-input",{staticClass:"pos-inp",attrs:{placeholder:"已选择X坐标",readonly:""},model:{value:t.xVal,callback:function(e){t.xVal=e},expression:"xVal"}}),t._v(" "),a("span",{staticClass:"xy-row-text"},[t._v("Y 轴: ")]),t._v(" "),a("el-input",{staticClass:"pos-inp",attrs:{placeholder:"已选择Y坐标",readonly:""},model:{value:t.yVal,callback:function(e){t.yVal=e},expression:"yVal"}})],1)]),t._v(" "),a("div",{staticClass:"xy-container"},[a("canvas",{staticClass:"xycanvas",attrs:{id:"xycanvas",width:"1824",height:"920"},on:{click:t.getXyAxis}}),t._v(" "),a("img",{staticClass:"floorimg",attrs:{src:t.floorImg},on:{click:t.getXyAxis}})]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"dialog-btn",on:{click:function(e){t.xyDialogVisible=!1}}},[t._v(t._s(t.$t("dialog.cancel")))]),t._v(" "),a("el-button",{staticClass:"dialog-btn dialog-confirm-btn",attrs:{type:"primary"},on:{click:function(e){t.transferXy()}}},[t._v(t._s(t.$t("dialog.confirm")))])],1)])},staticRenderFns:[]},s=function(t){a("nFe/")},o=a("VU/8")(i.a,l,!1,s,"data-v-3c0a50e2",null).exports,n=a("PAnj"),r=a.n(n),d={data:function(){return{addDialogVisible:!1,addForm:{name:"",externalId:"",type:null,status:null,mallId:null,floorId:null,x:null,y:null,isMallGate:null,isHasFace:null,intro:""},mallList:[],floorList:[],XyActive:!0,floorPlanUrl:window.apiUrl+"/floors/img/",floorImg:"",btnDisabled:!1,rules:{name:[{required:!0,message:"请输入监控点名称",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}],x:[{validator:function(t,e,a){if(!e&&0!=e)return a(new Error("X坐标不能为空"));/^[0-9]+([.]{1}[0-9]+){0,1}$/.test(e)?a():a(new Error("请输入正确的格式"))},trigger:"change"}],y:[{validator:function(t,e,a){if(!e&&0!=e)return a(new Error("Y坐标不能为空"));/^[0-9]+([.]{1}[0-9]+){0,1}$/.test(e)?a():a(new Error("请输入正确的格式"))},trigger:"change"}],mallId:[{required:!0,message:"请选择门店",trigger:"change"}],isMallGate:[{required:!0,message:"请选择是否为入口",trigger:"change"}],isHasFace:[{required:!0,message:"请选择是否为人脸",trigger:"change"}]},curMallId:null}},components:{"floor-pos-dialog":o},methods:{dialogInit:function(t){this.curMallId=t,this.addDialogVisible=!0},dialogOpenAdd:function(t){t.accountId=this.$cookie.get("accountId"),this.getMallList(t.accountId)},getMallList:function(t){var e=this;this.addForm.mallId="",this.addForm.floorId="",this.floorList=[],this.mallList=[],this.axios.get("/malls",{params:{accountId:t,_t:Date.parse(new Date)/1e3}}).then(function(t){var a=t.data;a.data.forEach(function(t){t.id==e.curMallId&&(e.addForm.mallId=t.id)}),e.mallList=a.data,e.mallList.length>0&&(e.curMallId||(e.addForm.mallId=e.mallList[0].id),e.getFloorList(e.addForm.mallId))}).catch(function(t){})},changeAddMall:function(t){this.getFloorList(t)},getFloorList:function(t){var e=this;this.addForm.floorId="",this.floorList=[],this.axios.get("/floors",{params:{mallId:t,_t:Date.parse(new Date)/1e3}}).then(function(t){var a=t.data;a.data.length>0&&(a.data.unshift({name:"请选择",id:""}),e.floorList=a.data,e.addForm.floorId=e.floorList[0].id),e.floorList=a.data}).catch(function(t){})},getFloorImg:function(){var t=this;this.addForm.floorId?this.XyActive=!1:this.XyActive=!0,this.axios.get("/floors",{params:{id:this.addForm.floorId,_t:Date.parse(new Date)/1e3}}).then(function(e){e.data.data[0].floorPlan?t.floorImg=t.floorPlanUrl+e.data.data[0].floorPlan:(t.floorImg=r.a,t.$message({showClose:!0,message:t.$t("message.NoFloorImg"),type:"warning"}))}).catch(function(t){console.log("add gate err:",t.message)})},getXY:function(){this.$refs.posModel.dialogInit(this.floorImg)},getPosXY:function(t){this.addForm.x=t.x,this.addForm.y=t.y},addSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.btnDisabled=!0,setTimeout(function(){e.btnDisabled=!1},2e3),e.addForm.accountId=e.$cookie.get("accountId"),e.addForm.createUser=e.$cookie.get("userId"),e.addForm.modifyUser=e.$cookie.get("userId"),e.axios.post("/gates",e.addForm).then(function(t){e.addDialogVisible=!1,e.$parent.getTableData()}).catch(function(t){})})},addDialogClose:function(){this.$refs.addForm.resetFields(),this.XyActive=!0}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{staticClass:"manage-dialog",attrs:{title:t.$t("button.addSite"),visible:t.addDialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.addDialogVisible=e},open:function(e){t.dialogOpenAdd(t.addForm)},close:function(e){t.addDialogClose()}}},[a("el-form",{ref:"addForm",attrs:{model:t.addForm,"status-icon":"",rules:t.rules}},[a("el-form-item",{attrs:{label:t.$t("dialog.name"),prop:"name"}},[a("el-input",{model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}}),t._v(" "),a("i",{staticClass:"error-tip"},[t._v("*")])],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("table.type"),prop:"type"}},[a("el-select",{staticClass:"manage-sel",attrs:{placeholder:t.$t("pholder.type")},model:{value:t.addForm.type,callback:function(e){t.$set(t.addForm,"type",e)},expression:"addForm.type"}},[a("el-tooltip",{staticClass:"item",attrs:{"popper-class":"tooltipClass",effect:"light",placement:"top-start",offset:"-200"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n                                传统客流智能机或者CBOX统计基础客流量。\n                            ")]),t._v(" "),a("el-option",{attrs:{label:t.$t("dictionary.tradCount"),value:1}})],1),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{"popper-class":"tooltipClass",effect:"light",placement:"top-start",offset:"-200"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n                                通过人脸抓拍识别统计"),a("span",{staticClass:"red-font"},[t._v("客流量")]),t._v("及"),a("span",{staticClass:"red-font"},[t._v("人脸属性")]),t._v("分析。\n                            ")]),t._v(" "),a("el-option",{attrs:{label:t.$t("dictionary.faceFlow"),value:3}})],1),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{"popper-class":"tooltipClass",effect:"light",placement:"top-start",offset:"-200"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n                                通过人脸抓拍识别仅分析人脸属性。"),a("span",{staticClass:"red-font"},[t._v("无客流量")]),t._v("。\n                            ")]),t._v(" "),a("el-option",{attrs:{label:t.$t("dictionary.faceCapture"),value:5}})],1),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{"popper-class":"tooltipClass",effect:"light",placement:"top-start",offset:"-200"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n                                通过店外设备统计门前路过的客流量。\n                            ")]),t._v(" "),a("el-option",{attrs:{label:t.$t("dictionary.inStoreRate"),value:2}})],1),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{"popper-class":"tooltipClass",effect:"light",placement:"top-start",offset:"-200"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n                                通过鱼眼相机采集人员位置信息，并做热力呈现。\n                            ")]),t._v(" "),a("el-option",{attrs:{label:t.$t("dictionary.heatmap"),value:4}})],1)],1),t._v(" "),a("i",{staticClass:"error-tip"},[t._v("*")])],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("table.state"),prop:"status"}},[a("el-select",{staticClass:"manage-sel",attrs:{placeholder:t.$t("pholder.state")},model:{value:t.addForm.status,callback:function(e){t.$set(t.addForm,"status",e)},expression:"addForm.status"}},[a("el-option",{attrs:{label:t.$t("table.stateA"),value:1}}),t._v(" "),a("el-option",{attrs:{label:t.$t("table.stateB"),value:2}})],1),t._v(" "),a("i",{staticClass:"error-tip"},[t._v("*")])],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("table.square"),prop:"mallId"}},[a("el-select",{staticClass:"manage-sel",attrs:{filterable:"",placeholder:t.$t("pholder.select"),"no-data-text":t.$t("pholder.nodata")},on:{change:t.changeAddMall},model:{value:t.addForm.mallId,callback:function(e){t.$set(t.addForm,"mallId",e)},expression:"addForm.mallId"}},t._l(t.mallList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),t._v(" "),a("i",{staticClass:"error-tip"},[t._v("*")])],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("table.InstallationFloor"),prop:"floorId"}},[a("el-select",{staticClass:"manage-sel",attrs:{filterable:"",placeholder:t.$t("pholder.select"),"no-data-text":t.$t("pholder.nodata")},on:{change:t.getFloorImg},model:{value:t.addForm.floorId,callback:function(e){t.$set(t.addForm,"floorId",e)},expression:"addForm.floorId"}},t._l(t.floorList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("dialog.coordinate")}},[a("el-col",{attrs:{span:7}},[a("el-form-item",{staticClass:"spe-form-item",attrs:{prop:"x"}},[a("el-input",{staticClass:"gate-xy-inp",attrs:{placeholder:t.$t("pholder.x")},model:{value:t.addForm.x,callback:function(e){t.$set(t.addForm,"x",e)},expression:"addForm.x"}})],1)],1),t._v(" "),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:2}},[t._v("-")]),t._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{staticClass:"spe-form-item",attrs:{prop:"y"}},[a("el-input",{staticClass:"gate-xy-inp",attrs:{placeholder:t.$t("pholder.y")},model:{value:t.addForm.y,callback:function(e){t.$set(t.addForm,"y",e)},expression:"addForm.y"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-button",{staticClass:"bdmap-btn",attrs:{icon:"el-icon-location",disabled:t.XyActive},on:{click:function(e){t.getXY()}}},[t._v(t._s(t.$t("button.getXY")))])],1),t._v(" "),a("i",{staticClass:"error-tip"},[t._v("*")])],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("table.externalNum"),prop:"externalId"}},[a("el-input",{model:{value:t.addForm.externalId,callback:function(e){t.$set(t.addForm,"externalId",e)},expression:"addForm.externalId"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("table.SquareEntrance"),prop:"isMallGate"}},[a("el-select",{staticClass:"manage-sel",attrs:{placeholder:t.$t("pholder.select")},model:{value:t.addForm.isMallGate,callback:function(e){t.$set(t.addForm,"isMallGate",e)},expression:"addForm.isMallGate"}},[a("el-option",{attrs:{label:"否",value:0}}),t._v(" "),a("el-option",{attrs:{label:"是",value:1}})],1),t._v(" "),a("i",{staticClass:"error-tip"},[t._v("*")])],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("table.faceCamera"),prop:"isHasFace"}},[a("el-select",{staticClass:"manage-sel",attrs:{placeholder:t.$t("pholder.select")},model:{value:t.addForm.isHasFace,callback:function(e){t.$set(t.addForm,"isHasFace",e)},expression:"addForm.isHasFace"}},[a("el-option",{attrs:{label:"否",value:0}}),t._v(" "),a("el-option",{attrs:{label:"是",value:1}})],1),t._v(" "),a("i",{staticClass:"error-tip"},[t._v("*")])],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("table.describe")}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.addForm.intro,callback:function(e){t.$set(t.addForm,"intro",e)},expression:"addForm.intro"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"dialog-btn",on:{click:function(e){t.addDialogVisible=!1}}},[t._v(t._s(t.$t("dialog.cancel")))]),t._v(" "),a("el-button",{staticClass:"dialog-btn dialog-confirm-btn",attrs:{type:"primary",disabled:t.btnDisabled},on:{click:function(e){t.addSubmit("addForm")}}},[t._v(t._s(t.$t("dialog.confirm")))])],1)],1),t._v(" "),a("floor-pos-dialog",{ref:"posModel",on:{posXY:t.getPosXY}})],1)},staticRenderFns:[]},m=a("VU/8")(d,c,!1,function(t){a("zUTJ")},"data-v-26339671",null);e.a=m.exports},TNSf:function(t,e){},UpD8:function(t,e,a){"use strict";var i=a("k412"),l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"manage-dialog xy-dialog",attrs:{title:"地图坐标拾取",visible:t.xyEditVisible},on:{"update:visible":function(e){t.xyEditVisible=e}}},[a("div",{staticClass:"xy-row"},[a("div",{staticClass:"xy-row"},[a("span",{staticClass:"xy-row-text"},[t._v("X 轴: ")]),t._v(" "),a("el-input",{staticClass:"pos-inp",attrs:{placeholder:"已选择X坐标",readonly:""},model:{value:t.editXVal,callback:function(e){t.editXVal=e},expression:"editXVal"}}),t._v(" "),a("span",{staticClass:"xy-row-text"},[t._v("Y 轴: ")]),t._v(" "),a("el-input",{staticClass:"pos-inp",attrs:{placeholder:"已选择Y坐标",readonly:""},model:{value:t.editYVal,callback:function(e){t.editYVal=e},expression:"editYVal"}})],1)]),t._v(" "),a("div",{staticClass:"xy-container"},[a("canvas",{staticClass:"xycanvas",attrs:{id:"editXycanvas",width:"1824",height:"920"},on:{click:t.getEditXyAxis}}),t._v(" "),a("img",{staticClass:"floorimg",attrs:{src:t.editFloorImg},on:{click:t.getEditXyAxis}})]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"dialog-btn",on:{click:function(e){t.xyEditVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"dialog-btn dialog-confirm-btn",attrs:{type:"primary"},on:{click:t.transferEditXy}},[t._v("确 定")])],1)])},staticRenderFns:[]},s=function(t){a("+4/Q")},o=a("VU/8")(i.a,l,!1,s,"data-v-70841db2",null).exports,n=a("PAnj"),r=a.n(n),d={data:function(){return{editDialogVisible:!1,floorPlanUrl:window.apiUrl+"/floors/img/",mallList:[],floorList:[],editFloorImg:"",editForm:{name:"",externalId:"",type:null,status:null,mallId:null,floorId:null,x:"",y:"",isMallGate:null,isHasFace:null,intro:""},EditXyActive:!0,btnDisabled:!1,rowId:null,rules:{name:[{required:!0,message:"请输入监控点名称",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}],x:[{validator:function(t,e,a){if(!e&&0!=e)return a(new Error("X坐标不能为空"));/^[0-9]+([.]{1}[0-9]+){0,1}$/.test(e)?a():a(new Error("请输入正确的格式"))},trigger:"change"}],y:[{validator:function(t,e,a){if(!e&&0!=e)return a(new Error("Y坐标不能为空"));/^[0-9]+([.]{1}[0-9]+){0,1}$/.test(e)?a():a(new Error("请输入正确的格式"))},trigger:"change"}],mallId:[{required:!0,message:"请选择门店",trigger:"change"}],isMallGate:[{required:!0,message:"请选择是否为入口",trigger:"change"}],isHasFace:[{required:!0,message:"请选择是否为人脸",trigger:"change"}]}}},components:{"floor-pos-dialog":o},methods:{dialogInit:function(t){this.rowId=t.id;for(var e in this.editForm)this.editForm[e]=t[e];this.EditXyActive=!1,this.getEditFloorImg();Number(this.$cookie.get("accountId"));this.editDialogVisible=!0},dialogOpen:function(t){t.accountId=this.$cookie.get("accountId"),this.getEditMall(t.accountId)},getEditMall:function(t){var e=this;this.floorList=[],this.mallList=[],this.axios.get("/malls",{params:{accountId:t,_t:Date.parse(new Date)/1e3}}).then(function(t){var a=t.data,i=!1;a.data.forEach(function(t){e.editForm.mallId==t.id&&(i=!0)}),i||(e.editForm.mallId=null),e.mallList=a.data,e.mallList.length>0&&e.getEditFloor(e.editForm.mallId)}).catch(function(t){})},changeEditMall:function(t){this.editChangeGetFloor(t)},getEditFloor:function(t){var e=this;this.floorList=[],this.axios.get("/floors",{params:{mallId:t,_t:Date.parse(new Date)/1e3}}).then(function(t){var a=t.data;e.floorList=a.data;var i=!1;a.data.forEach(function(t){e.editForm.floorId==t.id&&(i=!0,t.floorPlan&&(e.editFloorImg=e.floorPlanUrl+t.floorPlan))}),i||(e.editForm.floorId=null),e.editFloorImg||(e.editFloorImg=r.a)}).catch(function(t){})},editChangeGetFloor:function(t){var e=this;this.floorList=[],this.editForm.floorId=null,this.axios.get("/floors",{params:{mallId:t,_t:Date.parse(new Date)/1e3}}).then(function(t){var a=t.data;a.data.length>0&&(e.editForm.floorId=a.data[0].id),e.floorList=a.data}).catch(function(t){})},getEditFloorImg:function(){var t=this;this.editForm.floorId?this.EditXyActive=!1:this.EditXyActive=!0,this.axios.get("/floors",{params:{id:this.editForm.floorId,_t:Date.parse(new Date)/1e3}}).then(function(e){e.data.data[0].floorPlan?t.editFloorImg=t.floorPlanUrl+e.data.data[0].floorPlan:(t.editFloorImg=r.a,t.$message({showClose:!0,message:t.$t("message.NoFloorImg"),type:"warning"}))}).catch(function(t){})},editXY:function(){this.$refs.posModel.dialogInit(this.editFloorImg,this.editForm.x,this.editForm.y)},getPosXY:function(t){this.editForm.x=t.x,this.editForm.y=t.y},editSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.btnDisabled=!0,e.editForm.accountId=e.$cookie.get("accountId"),e.axios.post("/gates/"+e.rowId,e.editForm).then(function(t){e.btnDisabled=!1,e.editDialogVisible=!1,e.$parent.getTableData()}).catch(function(t){})})},editDialogClose:function(){this.editForm={name:"",type:null,status:null,mallId:null,floorId:null,x:"",y:"",isMallGate:null,isHasFace:null,intro:""},this.EditXyActive=!0,this.$refs.editForm.clearValidate()}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{staticClass:"manage-dialog",attrs:{title:t.$t("dialog.editSite"),visible:t.editDialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.editDialogVisible=e},open:function(e){t.dialogOpen(t.editForm)},close:t.editDialogClose}},[a("el-form",{ref:"editForm",attrs:{model:t.editForm,rules:t.rules}},[a("el-form-item",{attrs:{label:t.$t("dialog.name"),prop:"name"}},[a("el-input",{model:{value:t.editForm.name,callback:function(e){t.$set(t.editForm,"name",e)},expression:"editForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("table.type"),prop:"type"}},[a("el-select",{staticClass:"manage-sel",attrs:{placeholder:t.$t("pholder.type")},model:{value:t.editForm.type,callback:function(e){t.$set(t.editForm,"type",e)},expression:"editForm.type"}},[a("el-tooltip",{staticClass:"item",attrs:{"popper-class":"tooltipClass",effect:"light",placement:"top-start",offset:"-200"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n                                    传统客流智能机或者CBOX统计基础客流量。\n                                ")]),t._v(" "),a("el-option",{attrs:{label:t.$t("dictionary.tradCount"),value:1}})],1),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{"popper-class":"tooltipClass",effect:"light",placement:"top-start",offset:"-200"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n                                    通过人脸抓拍识别统计"),a("span",{staticClass:"red-font"},[t._v("客流量")]),t._v("及"),a("span",{staticClass:"red-font"},[t._v("人脸属性")]),t._v("分析。\n                                ")]),t._v(" "),a("el-option",{attrs:{label:t.$t("dictionary.faceFlow"),value:3}})],1),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{"popper-class":"tooltipClass",effect:"light",placement:"top-start",offset:"-200"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n                                    通过人脸抓拍识别仅分析人脸属性。"),a("span",{staticClass:"red-font"},[t._v("无客流量")]),t._v("。\n                                ")]),t._v(" "),a("el-option",{attrs:{label:t.$t("dictionary.faceCapture"),value:5}})],1),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{"popper-class":"tooltipClass",effect:"light",placement:"top-start",offset:"-200"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n                                    通过店外设备统计门前路过的客流量。\n                                ")]),t._v(" "),a("el-option",{attrs:{label:t.$t("dictionary.inStoreRate"),value:2}})],1),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{"popper-class":"tooltipClass",effect:"light",placement:"top-start",offset:"-200"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n                                    通过鱼眼相机采集人员位置信息，并做热力呈现。\n                                ")]),t._v(" "),a("el-option",{attrs:{label:t.$t("dictionary.heatmap"),value:4}})],1)],1),t._v(" "),a("i",{staticClass:"error-tip"},[t._v("*")])],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("table.state"),prop:"status"}},[a("el-select",{staticClass:"manage-sel",attrs:{placeholder:t.$t("pholder.state")},model:{value:t.editForm.status,callback:function(e){t.$set(t.editForm,"status",e)},expression:"editForm.status"}},[a("el-option",{attrs:{label:"正常",value:1}}),t._v(" "),a("el-option",{attrs:{label:"停用",value:2}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("table.square"),prop:"mallId"}},[a("el-select",{staticClass:"manage-sel",attrs:{disabled:"",filterable:"",placeholder:t.$t("pholder.select"),"no-data-text":t.$t("pholder.nodata")},on:{change:t.changeEditMall},model:{value:t.editForm.mallId,callback:function(e){t.$set(t.editForm,"mallId",e)},expression:"editForm.mallId"}},t._l(t.mallList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("table.InstallationFloor"),prop:"floorId"}},[a("el-select",{staticClass:"manage-sel",attrs:{filterable:"",placeholder:t.$t("pholder.select"),"no-data-text":t.$t("pholder.nodata")},on:{change:t.getEditFloorImg},model:{value:t.editForm.floorId,callback:function(e){t.$set(t.editForm,"floorId",e)},expression:"editForm.floorId"}},t._l(t.floorList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("dialog.coordinate")}},[a("el-col",{attrs:{span:7}},[a("el-form-item",{staticClass:"spe-form-item",attrs:{prop:"x"}},[a("el-input",{attrs:{placeholder:t.$t("pholder.x")},model:{value:t.editForm.x,callback:function(e){t.$set(t.editForm,"x",e)},expression:"editForm.x"}})],1)],1),t._v(" "),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:2}},[t._v("-")]),t._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{staticClass:"spe-form-item",attrs:{prop:"y"}},[a("el-input",{attrs:{placeholder:t.$t("pholder.y")},model:{value:t.editForm.y,callback:function(e){t.$set(t.editForm,"y",e)},expression:"editForm.y"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-button",{staticClass:"bdmap-btn",attrs:{icon:"el-icon-location",disabled:t.EditXyActive},on:{click:t.editXY}},[t._v(t._s(t.$t("button.getXY")))])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("table.externalNum"),prop:"externalId"}},[a("el-input",{model:{value:t.editForm.externalId,callback:function(e){t.$set(t.editForm,"externalId",e)},expression:"editForm.externalId"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("table.SquareEntrance"),prop:"isMallGate"}},[a("el-select",{staticClass:"manage-sel",attrs:{placeholder:t.$t("pholder.select")},model:{value:t.editForm.isMallGate,callback:function(e){t.$set(t.editForm,"isMallGate",e)},expression:"editForm.isMallGate"}},[a("el-option",{attrs:{label:"否",value:0}}),t._v(" "),a("el-option",{attrs:{label:"是",value:1}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("table.faceCamera"),prop:"isHasFace"}},[a("el-select",{staticClass:"manage-sel",attrs:{placeholder:t.$t("pholder.select")},model:{value:t.editForm.isHasFace,callback:function(e){t.$set(t.editForm,"isHasFace",e)},expression:"editForm.isHasFace"}},[a("el-option",{attrs:{label:"否",value:0}}),t._v(" "),a("el-option",{attrs:{label:"是",value:1}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("table.describe")}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.editForm.intro,callback:function(e){t.$set(t.editForm,"intro",e)},expression:"editForm.intro"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"dialog-btn",on:{click:function(e){t.editDialogVisible=!1}}},[t._v(t._s(t.$t("dialog.cancel")))]),t._v(" "),a("el-button",{staticClass:"dialog-btn dialog-confirm-btn",attrs:{type:"primary",disabled:t.btnDisabled},on:{click:function(e){t.editSubmit("editForm")}}},[t._v(t._s(t.$t("dialog.confirm")))])],1)],1),t._v(" "),a("floor-pos-dialog",{ref:"posModel",on:{editPosXY:t.getPosXY}})],1)},staticRenderFns:[]},m=a("VU/8")(d,c,!1,function(t){a("fehI")},"data-v-6eee58ad",null);e.a=m.exports},fehI:function(t,e){},k412:function(t,e,a){"use strict";(function(t){var i=a("wi9b"),l=a.n(i);e.a={data:function(){return{xyEditVisible:!1,editXVal:"",editYVal:"",editFloorImg:""}},methods:{dialogInit:function(t,e,a){this.editFloorImg=t,this.xyEditVisible=!0;var i=this,s=new Image;s.src=t,s.onload=function(){var t=i.getStyleFn(".floorimg","width"),s=i.getStyleFn(".floorimg","height");e&&(i.editXVal=e),a&&(i.editYVal=a);var o=(e/i.normalWidth*t).toFixed(2),n=(a/i.normalHeight*s).toFixed(2);setTimeout(function(){var e=document.getElementById("editXycanvas");if(e.width=t,e.height=s,e.getContext){var a=e.getContext("2d");a.clearRect(0,0,e.width,e.height);var i=new Image;i.src=l.a,i.onload=function(){a.drawImage(i,o-15,n-30,30,30)}}},0)}},getEditXyAxis:function(e){var a=e||window.event,i=this,s=new Image;s.src=this.editFloorImg,s.onload=function(){var e=i.getStyleFn(".floorimg","width"),s=i.getStyleFn(".floorimg","height"),o=a.target.getBoundingClientRect(),n=(o.top-a.target.clientTop).toFixed(0),r=o.left-a.target.clientLeft,d=a.pageX-r-t(document).scrollLeft(),c=a.pageY-n-t(document).scrollTop();i.editXVal=(d*i.normalWidth/e).toFixed(2),i.editYVal=(c*i.normalHeight/s).toFixed(2);var m=document.getElementById("editXycanvas");if(m.width=e,m.height=s,m.getContext){var u=m.getContext("2d");u.clearRect(0,0,m.width,m.height);var g=new Image;g.src=l.a,g.onload=function(){u.drawImage(g,d-15,c-30,30,30)}}}},transferEditXy:function(){this.$emit("editPosXY",{x:this.editXVal,y:this.editYVal}),this.xyEditVisible=!1}}}}).call(e,a("7t+N"))},"nFe/":function(t,e){},"w/Km":function(t,e,a){"use strict";var i=a("mvHQ"),l=a.n(i),s={data:function(){return{bindVisible:!1,gateName:"",deviceArr:[{deviceId:"",vchanId:"",bussinessType:"",deviceOps:[],channelOps:[],bussinessOps:[{name:"人脸",val:1},{name:"客流",val:2},{name:"热力图",val:3}]}],picUploadUrl:"",uploadHeader:{},isBusinessType:!1,deviceWidth:"",deviceHeight:"",heatMapUrl:"",bindGateId:"",curBindRow:{},btnDisabled:!1}},methods:{dialogInit:function(t){this.curBindRow=t,this.deviceArr[0].deviceId="",this.deviceArr[0].vchanId="",this.deviceArr[0].bussinessType="",this.bindGateId=t.id,this.getUnbindDev(t.mallId),this.gateName=t.name,this.uploadHeader={Authorization:this.$cookie.get("atoken")},this.bindVisible=!0},getDeviceData:function(t){this.tableData=[];var e={accountId:this.$cookie.get("accountId"),mallId:t,status:1,sortName:"sort_ip",sortOrder:"ASC",_t:Date.parse(new Date)/1e3};this.axios.get("/devices",{params:e}).then(function(t){var e=t.data.data;console.log(e),e.forEach(function(t,e){})}).catch(function(t){})},getUnbindDev:function(t){var e=this,a={},i={};this.deviceOps=[],this.channelMap={},this.axios.get("/channels",{params:{mallId:t,gateId_null:!0,status:1,_t:Date.parse(new Date)/1e3}}).then(function(t){var s=t.data.data;if(s.length>0){s.forEach(function(t,e){"{}"===l()(a)?(a[t.deviceId]=t.deviceSerialnum,i[t.deviceId]=t.device?t.device.localIp:""):a[t.deviceId]||(a[t.deviceId]=t.deviceSerialnum,i[t.deviceId]=t.device?t.device.localIp:"")}),e.buildData(s);for(var o in a)e.deviceOps.push({id:o,name:a[o],localIp:i[o]});a=null,i=null,e.deviceArr[0].deviceOps=e.deviceOps,console.log(e.deviceArr[0].deviceOps)}})},buildData:function(t){var e=this,a=[],i=[];t.map(function(l,s){0==s&&t.length>1?a.push(l):1==t.length?(a.push(l),e.combineData(a)):(s<t.length&&(a[0].deviceId==l.deviceId?a.push(l):i.push(l)),s==t.length-1&&(e.combineData(a),e.buildData(i)))})},combineData:function(t){var e=this;t.forEach(function(t){"{}"===l()(e.channelMap)?e.channelMap[t.deviceId]=[{name:t.serialnum,val:t.id}]:e.channelMap[t.deviceId]?e.channelMap[t.deviceId].push({name:t.serialnum,val:t.id}):e.channelMap[t.deviceId]=[{name:t.serialnum,val:t.id}]})},linkage:function(t,e){this.deviceArr[t].channelOps=[],this.deviceArr[t].channelOps=this.channelMap[e],this.deviceArr[t].channelOps.length&&(this.deviceArr[t].vchanId=this.deviceArr[t].channelOps[0].val)},businessHandle:function(t){this.isBusinessType=!1},handleSuccess:function(t,e,a){200==t.code&&(this.heatMapUrl=t.msg)},gateBind:function(){var t=this,e={},a=[],i=[];this.deviceArr.forEach(function(l){if(a=[],i=[],i=l.deviceOps.filter(function(t){if(t.id===l.deviceId)return t}),a=l.channelOps.filter(function(t){if(t.val===l.vchanId)return t}),l.vchanId||l.bussinessType||i.length){if(e={id:l.vchanId,gateId:t.bindGateId,serialnum:a[0].name,deviceId:Number(i[0].id),deviceSerialnum:i[0].name,type:l.bussinessType,_t:Date.parse(new Date)/1e3},t.isBusinessType){if(e.heatMapUrl=t.heatMapUrl,e.width=t.deviceWidth,e.height=t.deviceHeight,e.accountId=t.curBindRow.accountId,e.mallId=t.curBindRow.mallId,!t.heatMapUrl)return void t.$message({showClose:!0,type:"warning",message:t.$t("message.uploadHeatImg")});if(!t.deviceWidth)return void t.$message({showClose:!0,type:"warning",message:t.$t("message.imgWidth")});if(!t.deviceHeight)return void t.$message({showClose:!0,type:"warning",message:t.$t("message.imgHeight")})}t.btnDisabled=!0,setTimeout(function(){t.btnDisabled=!1},2e3),t.axios.post("/channels/"+l.vchanId,e).then(function(e){200==e.data.code?(t.$message({showClose:!0,type:"success",message:t.$t("message.bindDevice")}),t.bindVisible=!1,t.$parent.getTableData()):t.$message({showClose:!0,type:"success",message:t.$t("message.deviceFailed")+e.data.msg})}).catch(function(t){})}})},closeBindDevice:function(){this.isBusinessType=!1,this.deviceArr.length=1}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"manage-dialog bind-device-dialog",attrs:{title:t.$t("table.deviceBind"),visible:t.bindVisible,width:"30%","close-on-click-modal":!1},on:{"update:visible":function(e){t.bindVisible=e},close:t.closeBindDevice}},[a("div",{staticClass:"device-wrapper"},[a("div",{staticClass:"device-name-box"},[a("span",{staticClass:"device-name-text"},[t._v(t._s(t.$t("table.monitorSiteName")))]),t._v(" "),a("el-input",{staticClass:"gate-name-inp",attrs:{readonly:"",placeholder:t.$t("pholder.Site")},model:{value:t.gateName,callback:function(e){t.gateName=e},expression:"gateName"}})],1),t._v(" "),a("ul",{staticClass:"device-box"},t._l(t.deviceArr,function(e,i){return a("li",{key:e.deviceId,staticClass:"device-item"},[a("ul",{staticClass:"device-option-wrapper"},[a("li",{staticClass:"device-item-child"},[a("span",{staticClass:"device-item-title"},[t._v(t._s(t.$t("dialog.deviceNum")))]),t._v(" "),a("el-select",{staticClass:"bind-device-sel",attrs:{filterable:"",placeholder:"请选择设备号"},on:{change:function(a){t.linkage(i,e.deviceId)}},model:{value:e.deviceId,callback:function(a){t.$set(e,"deviceId",a)},expression:"item.deviceId"}},t._l(e.deviceOps,function(e,i){return a("el-option",{key:i,attrs:{label:e.localIp+"   "+e.name,value:e.id}},[a("span",[t._v(t._s(e.localIp)+"  ")]),t._v(" "),a("span",[t._v(" "+t._s(e.name))])])}))],1),t._v(" "),a("li",{staticClass:"device-item-child"},[a("span",{staticClass:"device-item-title vchan-title"},[t._v(t._s(t.$t("dialog.aisle")))]),t._v(" "),a("el-select",{staticClass:"bind-device-sel",attrs:{filterable:"",placeholder:"请选择通道号"},model:{value:e.vchanId,callback:function(a){t.$set(e,"vchanId",a)},expression:"item.vchanId"}},t._l(e.channelOps,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.val}})}))],1),t._v(" "),a("li",{staticClass:"device-item-child"},[a("span",{staticClass:"device-item-title"},[t._v(t._s(t.$t("dialog.businessType")))]),t._v(" "),a("el-select",{staticClass:"bind-device-sel",attrs:{placeholder:"请选择业务类型"},on:{change:function(a){t.businessHandle(e.bussinessType)}},model:{value:e.bussinessType,callback:function(a){t.$set(e,"bussinessType",a)},expression:"item.bussinessType"}},t._l(e.bussinessOps,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.val}})}))],1),t._v(" "),t.isBusinessType?a("li",{staticClass:"device-item-child"},[a("span",{staticClass:"device-item-title"},[t._v(t._s(t.$t("dialog.backImg")))]),t._v(" "),a("el-upload",{staticClass:"upload-wrapper",attrs:{action:t.picUploadUrl,headers:t.uploadHeader,"on-success":t.handleSuccess}},[a("el-button",{staticClass:"upload-btn",attrs:{type:"primary"}},[a("i",{staticClass:"el-icon-upload el-icon--left"}),t._v(t._s(t.$t("dialog.upload")))])],1)],1):t._e(),t._v(" "),t.isBusinessType?a("li",{staticClass:"device-item-child"},[a("span",{staticClass:"device-item-title"},[t._v(t._s(t.$t("dialog.resolution")))]),t._v(" "),a("div",{staticClass:"device-wh"},[a("el-input",{staticClass:"dev-width-inp",attrs:{placeholder:t.$t("message.imgWidth")},model:{value:t.deviceWidth,callback:function(e){t.deviceWidth=e},expression:"deviceWidth"}}),t._v(" "),a("el-input",{staticClass:"dev-height-inp",attrs:{placeholder:t.$t("message.imgHeight")},model:{value:t.deviceHeight,callback:function(e){t.deviceHeight=e},expression:"deviceHeight"}})],1)]):t._e()])])}))]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"dialog-btn",on:{click:function(e){t.bindVisible=!1}}},[t._v(t._s(t.$t("dialog.cancel")))]),t._v(" "),a("el-button",{staticClass:"dialog-btn dialog-confirm-btn",attrs:{type:"primary",disabled:t.btnDisabled},on:{click:t.gateBind}},[t._v(t._s(t.$t("dialog.confirm")))])],1)])},staticRenderFns:[]},n=a("VU/8")(s,o,!1,function(t){a("0J4c")},"data-v-30f09f34",null);e.a=n.exports},wi9b:function(t,e){t.exports="data:image/png;base64,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"},zUTJ:function(t,e){}});