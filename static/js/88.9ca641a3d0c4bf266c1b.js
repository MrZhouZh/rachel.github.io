webpackJsonp([88],{aXMU:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("mvHQ"),i=e.n(o),s=e("DQZ8"),n={props:{propparam:Object},data:function(){return{loading:!0,feaDayCountingYoY_head:[{label:"日期",prop:"date"},{label:"当日",prop:"today"},{label:"昨日",prop:"yesterday"},{label:"昨日环比",prop:"yesterSeq"},{label:"上周同期",prop:"sameLw"},{label:"上周环比",prop:"seqLw"},{label:"上月同日",prop:"todayLm"},{label:"上月环比",prop:"seqLm"},{label:"去年同期",prop:"sameLy"},{label:"去年同比",prop:"compareLy"}],DayCountingYoY_head:[{label:"时间段",prop:"periodTime"},{label:"当日实时",prop:"realTime"},{label:"昨日实时",prop:"yesterRealTime"},{label:"昨日环比",prop:"yesterSeq"},{label:"上周同期",prop:"sameLw"},{label:"上周环比",prop:"seqLw"},{label:"上月同日",prop:"todayLm"},{label:"上月环比",prop:"seqLm"},{label:"去年同期",prop:"sameLy"},{label:"去年同比",prop:"compareLy"}],DayAddYoY_head:[{label:"截止时间",prop:"byTime"},{label:"当日累积",prop:"cumulative"},{label:"昨日累积",prop:"cumulativeYester"},{label:"昨日环比",prop:"yesterSeq"},{label:"上周同期",prop:"sameLw"},{label:"上周环比",prop:"seqLw"},{label:"上月同日",prop:"todayLm"},{label:"上月环比",prop:"seqLm"},{label:"去年同期",prop:"sameLy"},{label:"去年同比",prop:"compareLy"}],feaDayCountingYoY_title:"",DayCountingYoY_title:"",DayAddYoY_title:"",feaDayCountingYoY_ops:[],DayCountingYoY_ops:[],DayAddYoY_ops:[],searchTime:"",tableKeyToId:{},tableIds:"",emitData:[],customLoading:void 0}},components:{"common-tab":s.a},watch:{propparam:{handler:"refreshHandle",immediate:!0}},mounted:function(){},methods:{refreshHandle:function(a){"/seqasis/daily"===a.dateType&&(this.emitData=a.data,this.loading=!0,this.tableIds&&"{}"!==i()(this.tableKeyToId)?this.getTableData(this.tableIds):this.getTableId())},getTableId:function(){var a=this;this.tableKeyToId={},this.tableIds="",this.axios.get("/reportCharts",{params:{report:"DayYoYMoM",_t:Date.parse(new Date)/1e3}}).then(function(t){var e=t.data.data;e.forEach(function(t,o){a.tableKeyToId[t.key]=t.id,"DayCountingYoY"!==t.key&&"DayAddYoY"!==t.key&&"15DayCountingYoY"!==t.key||(o==e.length-1?a.tableIds+=t.id:a.tableIds+=t.id+",")}),a.getTableData(a.tableIds)})},getTableData:function(a){var t=this;if(a){this.feaDayCountingYoY_ops=[],this.DayCountingYoY_ops=[],this.DayAddYoY_ops=[];var e="",o={},i="";i=this.emitData.asis_time?"string"==typeof this.emitData.asis_time?this.emitData.asis_time:dateUnit.dateFormat(this.emitData.asis_time,"yyyy-MM-dd"):dateUnit.dateFormat(new Date,"yyyy-MM-dd"),"format"===this.emitData.asis_level?(e="/report/yoyOrMom/day/mall",o={orgIds:this.emitData.asis_org,date:i,chartIds:a,kpiType:this.emitData.asis_kpi,formatIds:this.emitData.asis_format,_t:Date.parse(new Date)/1e3}):(e="/report/yoyOrMom/day/"+this.emitData.asis_level,o={orgIds:this.emitData.asis_org,date:i,chartIds:a,kpiType:this.emitData.asis_kpi,_t:Date.parse(new Date)/1e3}),this.axios.get(e,{params:o}).then(function(a){t.DayCountingYoY_title="DayYoYMoMDayCountingYoY",t.DayAddYoY_title="DayYoYMoMDayAddYoY",t.feaDayCountingYoY_title="DayYoYMoM15DayCountingYoY";var e=a.data.data.body["15DayCountingYoY"].series,o=a.data.data.body.DayCountingYoY.series,i=a.data.data.body.DayAddYoY.series,s=a.data.data.body["15DayCountingYoY"].xaxis.data,n=a.data.data.body.DayCountingYoY.xaxis.data,l=a.data.data.body.DayAddYoY.xaxis.data;t.feaDayCountingYoY_head=t.autoComplateHead("15DayCountingYoY",s),t.DayCountingYoY_head=t.autoComplateHead("DayCountingYoY",n),t.DayAddYoY_head=t.autoComplateHead("DayAddYoY",l),e.length&&(t.feaDayCountingYoY_ops=t.dealData(e,t.feaDayCountingYoY_head)),o.length&&(t.DayCountingYoY_ops=t.dealData(o,t.DayCountingYoY_head)),o.length&&(t.DayAddYoY_ops=t.dealData(i,t.DayAddYoY_head)),setTimeout(function(){t.loading=!1},500)}).catch(function(a){})}},autoComplateHead:function(a,t){var e=[],o=[];if(t.length<8){e=t.map(function(a){return a});for(var i=0,s=7-t.length;i<s;i++)e.push("--");e.forEach(function(a,t){o.push({prop:"defaultOrg"+t,label:a})})}else t.forEach(function(a,t){o.push({prop:"defaultOrg"+t,label:a})});return o},dealData:function(a,t){var e={},o=[],i="";return a.forEach(function(a){if(a.data.length<t.length){for(var s=0,n=a.data.length;s<n;s++)i=t[s].prop,e[i]=a.data[s]||0==a.data[s]?a.data[s]:"--";for(var l=a.data.length;l<t.length;l++)i=t[l].prop,e[i]="--"}else for(var d=0,r=a.data.length;d<r;d++)i=t[d].prop,e[i]=a.data[d]||0==a.data[d]?a.data[d]:"--";o.push(e),e={}}),o}}},l={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"daily"},[e("div",{staticClass:"asis-table-wrapper"},[e("h3",{staticClass:"asis-table-header"},[e("span",{staticClass:"asis-table-title"},[a._v(a._s(a.i18nFormatter(a.feaDayCountingYoY_title)))]),a._v(" "),e("span",{staticClass:"asis-table-download",on:{click:function(t){a.dealExport("domFeaDayCounting",a.i18nFormatter(a.feaDayCountingYoY_title))}}},[a._v(a._s(a.$t("allPages.load")))])]),a._v(" "),e("div",{staticClass:"asis-table-content"},[e("common-tab",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],attrs:{tableData:a.feaDayCountingYoY_ops,id:"domFeaDayCounting",headData:a.feaDayCountingYoY_head,tabHeight:""}})],1)]),a._v(" "),e("div",{staticClass:"asis-table-wrapper"},[e("h3",{staticClass:"asis-table-header"},[e("span",{staticClass:"asis-table-title"},[a._v(a._s(a.i18nFormatter(a.DayCountingYoY_title)))]),a._v(" "),e("span",{staticClass:"asis-table-download",on:{click:function(t){a.dealExport("domDayCounting",a.i18nFormatter(a.DayCountingYoY_title))}}},[a._v(a._s(a.$t("allPages.load")))])]),a._v(" "),e("div",{staticClass:"asis-table-content"},[e("common-tab",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],attrs:{tableData:a.DayCountingYoY_ops,id:"domDayCounting",headData:a.DayCountingYoY_head,tabHeight:""}})],1)]),a._v(" "),e("div",{staticClass:"asis-table-wrapper"},[e("h3",{staticClass:"asis-table-header"},[e("span",{staticClass:"asis-table-title"},[a._v(a._s(a.i18nFormatter(a.DayAddYoY_title)))]),a._v(" "),e("span",{staticClass:"asis-table-download",on:{click:function(t){a.dealExport("domDayAdd",a.i18nFormatter(a.DayAddYoY_title))}}},[a._v(a._s(a.$t("allPages.load")))])]),a._v(" "),e("div",{staticClass:"asis-table-content"},[e("common-tab",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],ref:"i18n",attrs:{tableData:a.DayAddYoY_ops,id:"domDayAdd",headData:a.DayAddYoY_head,tabHeight:""}})],1)])])},staticRenderFns:[]},d=e("VU/8")(n,l,!1,function(a){e("oZYy")},"data-v-67e4158f",null);t.default=d.exports},oZYy:function(a,t){}});