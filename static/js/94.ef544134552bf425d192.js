webpackJsonp([94],{"4/Kx":function(t,a){},Qf31:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e("mvHQ"),s=e.n(r),i=e("pJt5"),o=e("jR44"),d={props:{propparam:Object},data:function(){return{customerfeatureGender_ops:{},customerfeatureAge_ops:{},hourTrend_ops:{},accumulative_ops:{},dayTrend_ops:{},tableKeyToId:{},tableIds:"",emitData:[],searchTime:"",apiUrl:"",hourTrend_title:"",accumulative_title:"",dayTrend_title:"",customerfeature_gender_title:"",customerfeature_age_title:"",CompareDaydayTrend_title:""}},components:{"comprehen-chart":o.a,"export-data-dialog":i.a},watch:{propparam:{handler:"refreshHandle",immediate:!0}},mounted:function(){},methods:{refreshHandle:function(t){"/comprehen/daily"===t.dateType&&(this.emitData=t.data,this.tableIds&&"{}"!==s()(this.tableKeyToId)?this.getChartData(this.tableIds):this.getChartId())},getChartId:function(){var t=this;this.tableKeyToId={},this.tableIds="",this.axios.get("/reportCharts",{params:{report:"SynthesizeCompareDay",_t:Date.parse(new Date)/1e3}}).then(function(a){var e=a.data.data;e.forEach(function(a,r){t.tableKeyToId[a.key]=a.id,"customerfeature_gender"!==a.key&&"customerfeature_age"!==a.key&&"hourTrend"!==a.key&&"accumulative"!==a.key&&"dayTrend"!==a.key||(r==e.length-1?t.tableIds+=a.id:t.tableIds+=a.id+",")}),t.getChartData(t.tableIds)})},getChartData:function(t){var a=this;if(t){this.customerfeatureGender_ops={},this.customerfeatureAge_ops={},this.hourTrend_ops={},this.accumulative_ops={},this.dayTrend_ops={};var e={};this.emitData.asis_time?"string"==typeof this.emitData.asis_time?this.searchTime=this.emitData.asis_time:this.searchTime=dateUnit.dateFormat(this.emitData.asis_time,"yyyy-MM-dd"):this.searchTime=dateUnit.dateFormat(new Date,"yyyy-MM-dd"),"format"===this.emitData.asis_level?(this.apiUrl="/report/synthesize/day/mall",e={orgIds:this.emitData.asis_org,date:this.searchTime,chartIds:t,kpiType:this.emitData.asis_kpi,formatIds:this.emitData.asis_format,_t:Date.parse(new Date)/1e3}):(this.apiUrl="/report/synthesize/day/"+this.emitData.asis_level,e={orgIds:this.emitData.asis_org,date:this.searchTime,chartIds:t,kpiType:this.emitData.asis_kpi,_t:Date.parse(new Date)/1e3}),this.axios.get(this.apiUrl,{params:e}).then(function(t){var e="SynthesizeCompareDay",r={},s={};(r=t.data.data.body.customerfeature_gender).color=["#3BB8FF","#FFC62E"],a.customerfeatureGender_ops=r,a.customerfeature_gender_title=e+"customerfeature_gender",(s=t.data.data.body.customerfeature_age).color=["#6e6fc1","#33bafe","#fec62b","#ff9c01","#38d4be","#79ce4c"],a.customerfeatureAge_ops=s,a.customerfeature_age_title=e+"customerfeature_age",a.hourTrend_ops=t.data.data.body.hourTrend,a.hourTrend_title=e+"hourTrend",a.accumulative_ops=t.data.data.body.accumulative,a.accumulative_title=e+"accumulative",a.dayTrend_ops=t.data.data.body.dayTrend,a.CompareDaydayTrend_title=e+"dayTrend"}).catch(function(t){})}},exportDataHandle:function(t,a,e){var r=this.tableKeyToId[e],s={domId:t,title:a,data:{url:window.apiUrl+this.apiUrl+"/"+r+"/excel",params:"orgIds="+this.emitData.asis_org+"&date="+this.searchTime+"&kpiType="+this.emitData.asis_kpi}};this.$refs.exportDialog.dialogInit(s)}}},n={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"daily"},[e("el-row",{staticClass:"chartRow",attrs:{gutter:12}},[e("el-col",{staticClass:"download-parent",attrs:{span:24}},[e("comprehen-chart",{staticClass:"moment-wrapper",attrs:{id:"dmomentChart",options:t.hourTrend_ops,chartType:"Line"}}),t._v(" "),e("span",{staticClass:"ehcarts-title"},[t._v(t._s(t.i18nFormatter(t.hourTrend_title)))]),t._v(" "),e("span",{staticClass:"download-text",on:{click:function(a){t.exportDataHandle("dmomentChart","hourTrend",t.i18nFormatter(t.hourTrend_title),"hourTrend")}}},[t._v(t._s(t.$t("allPages.load")))])],1)],1),t._v(" "),e("el-row",{staticClass:"chartRow",attrs:{gutter:12}},[e("el-col",{staticClass:"download-parent",attrs:{span:24}},[e("comprehen-chart",{staticClass:"cumulative-wrapper",attrs:{id:"dcumulativeChart",options:t.accumulative_ops,chartType:"Line"}}),t._v(" "),e("span",{staticClass:"ehcarts-title"},[t._v(t._s(t.i18nFormatter(t.accumulative_title)))]),t._v(" "),e("span",{staticClass:"download-text",on:{click:function(a){t.exportDataHandle("dcumulativeChart","accumulative",t.i18nFormatter(t.accumulative_title),"accumulative")}}},[t._v(t._s(t.$t("allPages.load")))])],1)],1),t._v(" "),e("el-row",{staticClass:"chartRow",attrs:{gutter:12}},[e("el-col",{staticClass:"download-parent",attrs:{span:24}},[e("comprehen-chart",{staticClass:"nearfif-wrapper",attrs:{id:"dnearfifChart",options:t.dayTrend_ops,chartType:"Line"}}),t._v(" "),e("span",{staticClass:"ehcarts-title"},[t._v(t._s(t.i18nFormatter(t.CompareDaydayTrend_title)))]),t._v(" "),e("span",{staticClass:"download-text",on:{click:function(a){t.exportDataHandle("dnearfifChart","dayTrend",t.i18nFormatter(t.CompareDaydayTrend_title),"dayTrend")}}},[t._v(t._s(t.$t("allPages.load")))])],1)],1),t._v(" "),e("el-row",{staticClass:"chartRow",attrs:{gutter:12}},[e("el-col",{staticClass:"download-parent",attrs:{span:12}},[e("comprehen-chart",{staticClass:"gender-wrapper",attrs:{id:"dgenderChart",options:t.customerfeatureGender_ops,chartType:"GenderBar"}}),t._v(" "),e("span",{staticClass:"ehcarts-title"},[t._v(t._s(t.i18nFormatter(t.customerfeature_gender_title)))]),t._v(" "),e("span",{staticClass:"download-text",on:{click:function(a){t.exportDataHandle("dgenderChart","customerfeature_gender",t.i18nFormatter(t.customerfeature_gender_title),"customerfeature_gender")}}},[t._v(t._s(t.$t("allPages.load")))])],1),t._v(" "),e("el-col",{staticClass:"download-parent",attrs:{span:12}},[e("comprehen-chart",{staticClass:"age-wrapper",attrs:{id:"dageChart",options:t.customerfeatureAge_ops,chartType:"AgeBar"}}),t._v(" "),e("span",{staticClass:"ehcarts-title"},[t._v(t._s(t.i18nFormatter(t.customerfeature_age_title)))]),t._v(" "),e("span",{staticClass:"download-text",on:{click:function(a){t.exportDataHandle("dageChart","customerfeature_age",t.i18nFormatter(t.customerfeature_age_title,"customerfeature_age"),"customerfeature_age")}}},[t._v(t._s(t.$t("allPages.load")))])],1)],1),t._v(" "),e("export-data-dialog",{ref:"exportDialog"})],1)},staticRenderFns:[]},c=e("VU/8")(d,n,!1,function(t){e("4/Kx")},"data-v-7cdf2e9c",null);a.default=c.exports}});